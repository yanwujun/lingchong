# æ¡Œé¢çµå®  - éœ€æ±‚å®ç°æ–‡æ¡£ï¼ˆæ´»æ–‡æ¡£ï¼‰

**å½“å‰ç‰ˆæœ¬**ï¼šv0.2.0 Beta  
**æœ€åæ›´æ–°**ï¼š2025-10-11  
**ç»´æŠ¤è¯´æ˜**ï¼šæœ¬æ–‡æ¡£ä¼šéšåŠŸèƒ½å¼€å‘æŒç»­æ›´æ–°

---

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

### çŠ¶æ€æ ‡è®°
- âœ… **å·²å®Œæˆ** - åŠŸèƒ½å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡
- ğŸš§ **å¼€å‘ä¸­** - æ­£åœ¨å¼€å‘
- â³ **è®¡åˆ’ä¸­** - å·²è§„åˆ’ä½†æœªå¼€å§‹
- âŒ **å·²å–æ¶ˆ** - ä¸å†å®ç°
- âš ï¸ **éƒ¨åˆ†å®Œæˆ** - åŸºç¡€åŠŸèƒ½å·²å®ç°ï¼Œä½†éœ€è¦å®Œå–„

### ç‰ˆæœ¬æ ‡è®°
- `[v0.1.0]` - MVP ç‰ˆæœ¬å®ç°
- `[v0.2.0]` - Beta ä¼˜åŒ–ç‰ˆå®ç°
- `[v0.3.0]` - è®¡åˆ’åœ¨æ­¤ç‰ˆæœ¬å®ç°

---

## 1. å® ç‰©çª—å£åŠŸèƒ½

### 1.1 åŸºç¡€æ˜¾ç¤º âœ… [v0.1.0]

#### éœ€æ±‚
- é€æ˜çª—å£æ˜¾ç¤ºï¼Œæ— è¾¹æ¡†ï¼Œå§‹ç»ˆç½®é¡¶
- å® ç‰©å½¢è±¡æ”¯æŒPNGåºåˆ—å¸§æˆ–GIFåŠ¨ç”»
- è‡ªé€‚åº”å±å¹•åˆ†è¾¨ç‡ï¼Œé˜²æ­¢å® ç‰©è¶…å‡ºå±å¹•èŒƒå›´

#### å®ç°ç»†èŠ‚
**æ–‡ä»¶**ï¼š`src/pet_window.py`

**å…³é”®ä»£ç **ï¼š
```python
# çª—å£è®¾ç½®
self.setWindowFlags(
    Qt.FramelessWindowHint |      # æ— è¾¹æ¡†
    Qt.WindowStaysOnTopHint |     # çª—å£ç½®é¡¶
    Qt.Tool                        # å·¥å…·çª—å£
)
self.setAttribute(Qt.WA_TranslucentBackground)  # é€æ˜èƒŒæ™¯

# åŠ¨ç”»åŠ è½½ï¼ˆä½¿ç”¨èµ„æºè·¯å¾„å‡½æ•°ï¼‰[v0.2.0]
def load_animation(self, animation_name):
    gif_path = get_resource_path(f"assets/images/default/{animation_name}.gif")
    png_path = get_resource_path(f"assets/images/default/{animation_name}.png")
    # æ”¯æŒ GIF å’Œ PNG
```

**æŠ€æœ¯æ ˆ**ï¼š
- PyQt5.QtWidgets.QWidget
- PyQt5.QtGui.QMovie (GIFåŠ¨ç”»)
- PyQt5.QtGui.QPixmap (PNGå›¾ç‰‡)

**é…ç½®é¡¹**ï¼š
- `config.ini` â†’ `[Pet]` â†’ `size` (å® ç‰©å¤§å°)
- `config.ini` â†’ `[Window]` â†’ `always_on_top` (å§‹ç»ˆç½®é¡¶)
- `config.ini` â†’ `[Window]` â†’ `opacity` (ä¸é€æ˜åº¦)

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 1.2 äº¤äº’è¡Œä¸º

#### 1.2.1 æ‹–æ‹½ç§»åŠ¨ âœ… [v0.1.0] + è¾¹ç•Œä¿æŠ¤ âœ… [v0.2.0]

**éœ€æ±‚**ï¼š
- ç”¨æˆ·å¯ä»¥ç”¨é¼ æ ‡æ‹–åŠ¨å® ç‰©åˆ°æ¡Œé¢ä»»æ„ä½ç½®
- æ‹–åŠ¨æ—¶ä¸ä¼šè¶…å‡ºå±å¹•èŒƒå›´ [v0.2.0]

**å®ç°ç»†èŠ‚**ï¼š
```python
# é¼ æ ‡äº‹ä»¶å¤„ç†
def mousePressEvent(self, event):
    if event.button() == Qt.LeftButton:
        self.is_dragging = True
        self.drag_position = event.globalPos() - self.frameGeometry().topLeft()

def mouseMoveEvent(self, event):
    if self.is_dragging:
        new_pos = event.globalPos() - self.drag_position
        
        # [v0.2.0] è¾¹ç•Œæ£€æµ‹
        screen = self.screen().geometry()
        x = max(0, min(new_pos.x(), screen.width() - self.width()))
        y = max(0, min(new_pos.y(), screen.height() - self.height()))
        self.move(x, y)
```

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 1.2.2 ç‚¹å‡»äº’åŠ¨ âœ… [v0.1.0]

**éœ€æ±‚**ï¼š
- å•å‡»ï¼šå® ç‰©åšå‡ºååº”
- åŒå‡»ï¼šè§¦å‘ç‰¹æ®ŠåŠ¨ç”»
- å³é”®ï¼šå¼¹å‡ºåŠŸèƒ½èœå•

**å®ç°ç»†èŠ‚**ï¼š
```python
def mousePressEvent(self, event):
    if event.button() == Qt.LeftButton:
        print("[å® ç‰©] è¢«ç‚¹å‡»äº†ï¼")
        # TODO: æ’­æ”¾ç‚¹å‡»åŠ¨ç”»å’ŒéŸ³æ•ˆ
    elif event.button() == Qt.RightButton:
        self.show_context_menu()

def mouseDoubleClickEvent(self, event):
    print("[å® ç‰©] è¢«åŒå‡»äº†ï¼")
    # TODO: æ’­æ”¾ç‰¹æ®ŠåŠ¨ç”»
```

**å³é”®èœå•é¡¹**ï¼š
- ğŸ“ å¾…åŠäº‹é¡¹
- âš™ï¸ è®¾ç½®
- ğŸ‘» éšè—
- âŒ é€€å‡º

**çŠ¶æ€**ï¼šâœ… åŸºç¡€å®ç°ï¼Œâ³ åŠ¨ç”»å’ŒéŸ³æ•ˆå¾…å®Œå–„

---

#### 1.2.3 è·Ÿéšé¼ æ ‡ â³ [v0.3.0]

**éœ€æ±‚**ï¼šå¯é€‰åŠŸèƒ½ï¼Œå® ç‰©è·Ÿéšé¼ æ ‡æŒ‡é’ˆç§»åŠ¨

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
def mouseMoveEvent_global(self, event):
    if self.follow_mouse_enabled:
        target_pos = QCursor.pos()
        self.smooth_move(target_pos.x(), target_pos.y())
```

**é…ç½®é¡¹**ï¼š`config.ini` â†’ `[Behavior]` â†’ `follow_mouse`

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 1.3 è‡ªä¸»è¡Œä¸º

#### 1.3.1 éšæœºè¡Œèµ° âœ… [v0.1.0] + å¹³æ»‘ç§»åŠ¨ âœ… [v0.2.0]

**éœ€æ±‚**ï¼šåœ¨æ¡Œé¢ä¸Šéšæœºç§»åŠ¨

**å®ç°ç»†èŠ‚**ï¼š
```python
# [v0.1.0] åŸºç¡€éšæœºç§»åŠ¨
def random_move(self):
    screen = self.screen().geometry()
    new_x = random.randint(0, screen.width() - self.width())
    new_y = random.randint(0, screen.height() - self.height())
    self.move(new_x, new_y)  # ç¬é—´ç§»åŠ¨

# [v0.2.0] å¹³æ»‘ç§»åŠ¨åŠ¨ç”»
def smooth_move(self, target_x, target_y, duration=1000):
    self.move_animation = QPropertyAnimation(self, b"pos")
    self.move_animation.setDuration(duration)
    self.move_animation.setStartValue(self.pos())
    self.move_animation.setEndValue(QPoint(target_x, target_y))
    self.move_animation.setEasingCurve(QEasingCurve.InOutQuad)
    self.move_animation.start()

# ä¿®æ”¹ä¸ºä½¿ç”¨å¹³æ»‘ç§»åŠ¨
def random_move(self):
    # ...
    self.smooth_move(new_x, new_y, duration=2000)  # 2ç§’è¿‡æ¸¡
```

**æŠ€æœ¯æ ˆ**ï¼š
- PyQt5.QtCore.QPropertyAnimation (åŠ¨ç”»)
- PyQt5.QtCore.QEasingCurve (ç¼“åŠ¨)
- PyQt5.QtCore.QTimer (å®šæ—¶å™¨)

**é…ç½®é¡¹**ï¼š
- `[Behavior]` â†’ `auto_move` (å¯ç”¨è‡ªåŠ¨ç§»åŠ¨)
- `[Behavior]` â†’ `action_interval` (ç§»åŠ¨é—´éš”ï¼Œç§’)
- `[Behavior]` â†’ `move_speed` (ç§»åŠ¨é€Ÿåº¦)

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 1.3.2 é—²ç½®åŠ¨ç”» âœ… [v0.1.0]

**éœ€æ±‚**ï¼šç«™ç«‹ã€å‘¼å¸ç­‰å¾…åŠ¨ç”»

**å®ç°ç»†èŠ‚**ï¼š
```python
# é»˜è®¤åŠ¨ç”»çŠ¶æ€
self.current_animation = "idle"
self.load_animation("idle")  # åŠ è½½ idle.gif/png
```

**èµ„æºæ–‡ä»¶**ï¼š
- `assets/images/default/idle.gif` æˆ– `idle.png`

**çŠ¶æ€**ï¼šâœ… å·²å®ç°

---

#### 1.3.3 éšæœºåŠ¨ä½œ âœ… [v0.1.0]

**éœ€æ±‚**ï¼šéšæœºæ‰§è¡Œä¸åŒåŠ¨ç”»

**å®ç°ç»†èŠ‚**ï¼š
```python
def random_action(self):
    action = random.choice(self.animation_states)  # idle, walk, sleep, happy
    self.load_animation(action)

# å®šæ—¶è§¦å‘
self.random_action_timer.timeout.connect(self.random_action)
self.random_action_timer.start(action_interval * 1000)
```

**åŠ¨ç”»çŠ¶æ€åˆ—è¡¨**ï¼š
- `idle` - å¾…æœº âœ…
- `walk` - è¡Œèµ° âœ…
- `sleep` - ç¡è§‰ âœ…
- `happy` - å¼€å¿ƒ âœ…
- `alert` - è­¦å‘Š âœ…
- `sad` - ä¼¤å¿ƒ â³
- `interact` - äº’åŠ¨ â³
- `eat` - è¿›é£Ÿ â³

**çŠ¶æ€**ï¼šâœ… åŸºç¡€å®ç°ï¼Œâ³ éœ€è¦æ›´å¤šåŠ¨ç”»èµ„æº

---

#### 1.3.4 ç¡çœ çŠ¶æ€ â³ [v0.3.0]

**éœ€æ±‚**ï¼šé•¿æ—¶é—´æ— æ“ä½œæ—¶è¿›å…¥ç¡çœ çŠ¶æ€

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
def check_idle_time(self):
    if self.idle_time > self.sleep_threshold:
        self.load_animation("sleep")
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

#### 1.3.5 æ‰è½æ•ˆæœ â³ [v0.3.0]

**éœ€æ±‚**ï¼šæ¨¡æ‹Ÿé‡åŠ›ï¼Œä»å±å¹•é¡¶éƒ¨æ‰è½åˆ°åº•éƒ¨

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
def apply_gravity(self):
    # ä½¿ç”¨åŠ¨ç”»æ¨¡æ‹Ÿæ‰è½
    # ç¢°åˆ°åº•éƒ¨åœæ­¢
```

**é…ç½®é¡¹**ï¼š`[Behavior]` â†’ `enable_gravity`

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

#### 1.3.6 è¾¹ç¼˜è½¬å‘ â³ [v0.3.0]

**éœ€æ±‚**ï¼šåœ¨å±å¹•è¾¹ç¼˜æ—¶è½¬å‘æˆ–åœæ­¢

**é…ç½®é¡¹**ï¼š`[Behavior]` â†’ `edge_bounce`

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

## 2. å¾…åŠäº‹é¡¹ç®¡ç†

### 2.1 ä»»åŠ¡å¢åˆ æ”¹æŸ¥

#### 2.1.1 æ·»åŠ ä»»åŠ¡ âœ… [v0.1.0] + å¼‚å¸¸å¤„ç† âœ… [v0.2.0]

**éœ€æ±‚**ï¼š
- ä»»åŠ¡æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
- ä»»åŠ¡æè¿°ï¼ˆå¯é€‰ï¼‰
- æˆªæ­¢æ—¥æœŸå’Œæ—¶é—´
- ä¼˜å…ˆçº§ï¼ˆä½ã€ä¸­ã€é«˜ï¼‰
- åˆ†ç±»æ ‡ç­¾ï¼ˆå·¥ä½œã€å­¦ä¹ ã€ç”Ÿæ´»ç­‰ï¼‰

**å®ç°ç»†èŠ‚**ï¼š

**å¯¹è¯æ¡†**ï¼š`TaskDialog` ç±»
```python
class TaskDialog(QDialog):
    # è¡¨å•å­—æ®µ
    - title_edit: QLineEdit (æ ‡é¢˜)
    - desc_edit: QTextEdit (æè¿°)
    - due_date_edit: QDateTimeEdit (æˆªæ­¢æ—¥æœŸ) 
    - priority_combo: QComboBox (ä¼˜å…ˆçº§)
    - category_combo: QComboBox (åˆ†ç±»)
```

**æ•°æ®åº“æ“ä½œ**ï¼š
```python
task_id = self.database.add_task(
    title=task_data['title'],
    description=task_data['description'],
    due_date=task_data['due_date'],
    priority=task_data['priority'],
    category=task_data['category']
)
```

**[v0.2.0] æ–°å¢**ï¼š
- å¼‚å¸¸å¤„ç†å’Œé”™è¯¯æç¤º
- è¿”å›å€¼éªŒè¯
- å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

**å¿«æ·é”®**ï¼š`Ctrl+N` âœ… [v0.2.0]

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 2.1.2 ç¼–è¾‘ä»»åŠ¡ âœ… [v0.2.0]

**éœ€æ±‚**ï¼šä¿®æ”¹ä»»åŠ¡çš„æ‰€æœ‰å±æ€§

**å®ç°ç»†èŠ‚**ï¼š

**è§¦å‘æ–¹å¼**ï¼š
- åŒå‡»ä»»åŠ¡è¡Œ âœ…
- æŒ‰ Enter é”® âœ…
- ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’® âœ…

**æ ¸å¿ƒä»£ç **ï¼š
```python
def edit_task(self):
    # 1. è·å–ä»»åŠ¡ID
    task_id = int(self.task_table.item(current_row, 0).text())
    
    # 2. ä»æ•°æ®åº“è·å–å®Œæ•´æ•°æ®
    task_data = self.database.get_task(task_id)
    
    # 3. æ˜¾ç¤ºç¼–è¾‘å¯¹è¯æ¡†ï¼ˆæ•°æ®è‡ªåŠ¨å›å¡«ï¼‰
    dialog = TaskDialog(self, task_data)
    
    # 4. ä¿å­˜ä¿®æ”¹
    if dialog.exec_() == QDialog.Accepted:
        new_data = dialog.get_task_data()
        self.database.update_task(task_id, **new_data)
        self.load_tasks()  # åˆ·æ–°åˆ—è¡¨
```

**æ•°æ®å›å¡«**ï¼š
- æ ‡é¢˜ âœ…
- æè¿° âœ…
- æˆªæ­¢æ—¥æœŸï¼ˆQDateTimeè§£æï¼‰âœ… [v0.2.0]
- ä¼˜å…ˆçº§ âœ…
- åˆ†ç±»ï¼ˆæ”¯æŒè‡ªå®šä¹‰ï¼‰âœ… [v0.2.0]

**å¿«æ·é”®**ï¼š`Enter` âœ… [v0.2.0]

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 2.1.3 åˆ é™¤ä»»åŠ¡ âœ… [v0.1.0] + å¿«æ·é”® âœ… [v0.2.0]

**éœ€æ±‚**ï¼šæ”¯æŒå•ä¸ªåˆ é™¤ï¼Œå¸¦ç¡®è®¤æç¤º

**å®ç°ç»†èŠ‚**ï¼š
```python
def delete_task(self):
    # 1. ç¡®è®¤å¯¹è¯æ¡†
    reply = QMessageBox.question(...)
    
    # 2. ä»æ•°æ®åº“åˆ é™¤
    if self.database.delete_task(task_id):
        # 3. ä»è¡¨æ ¼åˆ é™¤
        self.task_table.removeRow(current_row)
        # 4. å‘é€ä¿¡å·
        self.task_deleted.emit(task_id)
```

**[v0.2.0] æ–°å¢**ï¼š
- å¿«æ·é”®æ”¯æŒ (`Delete`)
- å¼‚å¸¸å¤„ç†
- è¿”å›å€¼éªŒè¯

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 2.1.4 æŸ¥çœ‹ä»»åŠ¡ âœ… [v0.1.0]

**éœ€æ±‚**ï¼šåˆ—è¡¨è§†å›¾æ˜¾ç¤ºæ‰€æœ‰å¾…åŠäº‹é¡¹

**å®ç°ç»†èŠ‚**ï¼š

**è¡¨æ ¼è®¾è®¡**ï¼š
- åˆ—1: IDï¼ˆéšè—ï¼‰
- åˆ—2: æ ‡é¢˜
- åˆ—3: æˆªæ­¢æ—¶é—´
- åˆ—4: ä¼˜å…ˆçº§ï¼ˆé¢œè‰²æ ‡è¯†ï¼‰
- åˆ—5: çŠ¶æ€
- åˆ—6: åˆ†ç±»

**ä¼˜å…ˆçº§é¢œè‰²**ï¼š
- é«˜ä¼˜å…ˆçº§ï¼šçº¢è‰² `#FF0000`
- ä¸­ä¼˜å…ˆçº§ï¼šæ©™è‰² `#FFA500`
- ä½ä¼˜å…ˆçº§ï¼šé»˜è®¤é¢œè‰²

**æ•°æ®æ¥æº**ï¼š
```python
def load_tasks(self, status=None):
    tasks = self.database.get_all_tasks(status)
    for task in tasks:
        self.add_task_to_table(task)
```

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 2.2 ä»»åŠ¡ç­›é€‰å’Œæœç´¢

#### 2.2.1 ä»»åŠ¡ç­›é€‰ âœ… [v0.1.0]

**éœ€æ±‚**ï¼šæŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå…¨éƒ¨ã€å¾…å®Œæˆã€å·²å®Œæˆã€å·²è¿‡æœŸï¼‰

**å®ç°ç»†èŠ‚**ï¼š
```python
def filter_tasks(self, filter_text):
    status_map = {
        "å…¨éƒ¨": None,
        "å¾…å®Œæˆ": "pending",
        "å·²å®Œæˆ": "completed",
        "å·²è¿‡æœŸ": "expired"
    }
    status = status_map.get(filter_text)
    self.load_tasks(status)
```

**UIç»„ä»¶**ï¼š`QComboBox` ä¸‹æ‹‰æ¡†

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 2.2.2 ä»»åŠ¡æœç´¢ âœ… [v0.2.0]

**éœ€æ±‚**ï¼šå¿«é€ŸæŸ¥æ‰¾ç‰¹å®šä»»åŠ¡

**å®ç°ç»†èŠ‚**ï¼š
```python
def search_tasks(self, keyword):
    if not keyword.strip():
        self.load_tasks()  # ç©ºæœç´¢æ˜¾ç¤ºå…¨éƒ¨
        return
    
    # ä½¿ç”¨æ•°æ®åº“æœç´¢
    tasks = self.database.search_tasks(keyword)
    
    # æ˜¾ç¤ºç»“æœ
    self.task_table.setRowCount(0)
    for task in tasks:
        self.add_task_to_table(task)
    
    # æ˜¾ç¤ºåŒ¹é…æ•°é‡
    self.status_label.setText(f"ğŸ” æ‰¾åˆ° {len(tasks)} ä¸ªåŒ¹é…ä»»åŠ¡")
```

**æœç´¢èŒƒå›´**ï¼š
- ä»»åŠ¡æ ‡é¢˜ âœ…
- ä»»åŠ¡æè¿° âœ…

**æ•°æ®åº“æŸ¥è¯¢**ï¼š
```sql
SELECT * FROM tasks 
WHERE title LIKE ? OR description LIKE ?
ORDER BY due_date
```

**å¿«æ·é”®**ï¼š`Ctrl+F` âœ… [v0.2.0]

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 2.3 ä»»åŠ¡æ’åº â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- ç‚¹å‡»åˆ—æ ‡é¢˜æ’åº
- æ‹–æ‹½è°ƒæ•´é¡ºåº
- è‡ªå®šä¹‰æ’åºè§„åˆ™

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
self.task_table.setSortingEnabled(True)
self.task_table.horizontalHeader().sectionClicked.connect(self.sort_tasks)
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 2.4 æ‰¹é‡æ“ä½œ â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- å¤šé€‰ä»»åŠ¡
- æ‰¹é‡å®Œæˆ
- æ‰¹é‡åˆ é™¤
- æ‰¹é‡ä¿®æ”¹ä¼˜å…ˆçº§

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
self.task_table.setSelectionMode(QTableWidget.MultiSelection)
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 2.5 å¿«æ·é”®æ”¯æŒ âœ… [v0.2.0]

**éœ€æ±‚**ï¼šé”®ç›˜å¿«é€Ÿæ“ä½œ

**å®ç°çš„å¿«æ·é”®**ï¼š

| å¿«æ·é”® | åŠŸèƒ½ | çŠ¶æ€ |
|--------|------|------|
| `Ctrl+N` | æ–°å»ºä»»åŠ¡ | âœ… |
| `Ctrl+F` | èšç„¦æœç´¢æ¡† | âœ… |
| `Ctrl+W` | å…³é—­çª—å£ | âœ… |
| `Delete` | åˆ é™¤é€‰ä¸­ä»»åŠ¡ | âœ… |
| `Enter` | ç¼–è¾‘é€‰ä¸­ä»»åŠ¡ | âœ… |

**å®ç°ç»†èŠ‚**ï¼š
```python
def setup_shortcuts(self):
    new_task_shortcut = QShortcut(QKeySequence("Ctrl+N"), self)
    new_task_shortcut.activated.connect(self.add_task)
    # ... å…¶ä»–å¿«æ·é”®
```

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

## 3. æé†’ç³»ç»Ÿ

### 3.1 å®šæ—¶æé†’ âœ… [v0.1.0]

**éœ€æ±‚**ï¼š
- ä»»åŠ¡åˆ°æœŸå‰æé†’
- å¯è®¾ç½®æå‰æ—¶é—´
- æ”¯æŒé‡å¤æé†’

**å®ç°ç»†èŠ‚**ï¼š

**æ£€æŸ¥æœºåˆ¶**ï¼š
```python
# ReminderSystem ç±»
def check_reminders(self):
    pending_tasks = self.database.get_pending_reminders()
    for task in pending_tasks:
        if task_id not in self.reminded_tasks:
            self.show_reminder(task)
            self.reminded_tasks.add(task_id)

# å®šæ—¶å™¨
self.check_timer.timeout.connect(self.check_reminders)
self.check_timer.start(60000)  # 60ç§’æ£€æŸ¥ä¸€æ¬¡
```

**æ•°æ®åº“æŸ¥è¯¢**ï¼š
```sql
SELECT * FROM tasks 
WHERE status = 'pending' 
AND remind_time IS NOT NULL 
AND remind_time <= ?
ORDER BY remind_time
```

**é…ç½®é¡¹**ï¼š
- `[Reminder]` â†’ `enable_reminder` (å¯ç”¨æé†’)
- `[Reminder]` â†’ `default_advance_time` (é»˜è®¤æå‰15åˆ†é’Ÿ)

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 3.2 æé†’æ–¹å¼ âœ… [v0.1.0]

#### 3.2.1 å® ç‰©åŠ¨ç”»æé†’ âœ…

**å®ç°ç»†èŠ‚**ï¼š
```python
def show_reminder(self, task_info):
    # æ’­æ”¾æé†’åŠ¨ç”»
    self.load_animation("alert")
    
    # ç¡®ä¿çª—å£å¯è§
    if not self.isVisible():
        self.show()
    
    # çª—å£ç½®é¡¶å¹¶æ¿€æ´»
    self.raise_()
    self.activateWindow()
```

**èµ„æºæ–‡ä»¶**ï¼š`assets/images/default/alert.gif/png` âœ…

**çŠ¶æ€**ï¼šâœ… å·²å®ç°

---

#### 3.2.2 å¼¹çª—æé†’ âœ… [v0.1.0]

**å®ç°ç»†èŠ‚**ï¼š

**å¼¹çª—ç±»**ï¼š`ReminderPopup`
```python
class ReminderPopup(QWidget):
    # ä¿¡å·
    completed = pyqtSignal(int)
    snoozed = pyqtSignal(int, int)
    dismissed = pyqtSignal(int)
    
    # æ˜¾ç¤ºå†…å®¹
    - ä»»åŠ¡æ ‡é¢˜
    - ä»»åŠ¡æè¿°ï¼ˆå‰100å­—ç¬¦ï¼‰
    - æˆªæ­¢æ—¶é—´
    - æ“ä½œæŒ‰é’®
```

**çª—å£æ ·å¼**ï¼š
- å°ºå¯¸ï¼š400x250 px
- èƒŒæ™¯ï¼šç™½è‰²
- è¾¹æ¡†ï¼šæ©™çº¢è‰² `#FF5722`
- å±…ä¸­æ˜¾ç¤º

**æ“ä½œæŒ‰é’®**ï¼š
- âœ… æ ‡è®°å®Œæˆ
- â±ï¸ ç¨åæé†’ï¼ˆ5åˆ†é’Ÿï¼‰
- âŒ å…³é—­

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 3.2.3 ç³»ç»Ÿæ‰˜ç›˜é€šçŸ¥ âœ… [v0.1.0]

**å®ç°ç»†èŠ‚**ï¼š
```python
# SystemTray ç±»
def show_notification(self, title, message, icon, duration):
    self.showMessage(title, message, icon, duration)
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- åº”ç”¨å¯åŠ¨ âœ…
- ä»»åŠ¡æ·»åŠ  âœ…
- ä»»åŠ¡æé†’ â³

**çŠ¶æ€**ï¼šâœ… å·²å®ç°

---

#### 3.2.4 éŸ³æ•ˆæé†’ â³ [v0.3.0]

**éœ€æ±‚**ï¼šæé†’æ—¶æ’­æ”¾éŸ³æ•ˆ

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
from PyQt5.QtMultimedia import QSoundEffect

class SoundManager:
    def play_alert(self):
        # æ’­æ”¾ assets/sounds/alert.wav
```

**é…ç½®é¡¹**ï¼š
- `[Sound]` â†’ `enable_sound`
- `[Sound]` â†’ `reminder_sound`
- `[Sound]` â†’ `volume`

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 3.3 æé†’æ“ä½œ

#### 3.3.1 æ ‡è®°å®Œæˆ âœ… [v0.1.0]

**å®ç°ç»†èŠ‚**ï¼š
```python
def on_complete(self):
    task_id = self.task_info.get('id')
    self.completed.emit(task_id)
    self.close()

# ä¸»ç¨‹åºå¤„ç†
def on_task_completed(self, task_id):
    self.database.mark_completed(task_id)
    self.todo_window.load_tasks()  # åˆ·æ–°åˆ—è¡¨
```

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

#### 3.3.2 å»¶åæé†’ âœ… [v0.1.0]

**å®ç°ç»†èŠ‚**ï¼š
```python
def on_snooze(self):
    task_id = self.task_info.get('id')
    self.snoozed.emit(task_id, 5)  # 5åˆ†é’Ÿå

# å¤„ç†å»¶å
def on_task_snoozed(self, task_id, minutes):
    new_remind_time = datetime.now() + timedelta(minutes=minutes)
    self.database.update_task(task_id, remind_time=new_remind_time)
    self.reminded_tasks.discard(task_id)  # å…è®¸å†æ¬¡æé†’
```

**é»˜è®¤å»¶åæ—¶é—´**ï¼š5åˆ†é’Ÿ

**é…ç½®é¡¹**ï¼š`[Reminder]` â†’ `snooze_time`

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

## 4. ç³»ç»Ÿé›†æˆ

### 4.1 ç³»ç»Ÿæ‰˜ç›˜ âœ… [v0.1.0] + è·¯å¾„ä¼˜åŒ– âœ… [v0.2.0]

**éœ€æ±‚**ï¼š
- æ‰˜ç›˜å›¾æ ‡æ˜¾ç¤º
- å³é”®èœå•
- å•å‡»/åŒå‡»äº¤äº’
- ç³»ç»Ÿé€šçŸ¥

**å®ç°ç»†èŠ‚**ï¼š

**æ‰˜ç›˜ç±»**ï¼š`SystemTray`
```python
class SystemTray(QSystemTrayIcon):
    # ä¿¡å·
    show_pet_signal = pyqtSignal()
    hide_pet_signal = pyqtSignal()
    show_todo_signal = pyqtSignal()
    show_settings_signal = pyqtSignal()
    quit_signal = pyqtSignal()
```

**èœå•é¡¹**ï¼š
- æ˜¾ç¤ºå® ç‰© âœ…
- éšè—å® ç‰© âœ…
- ğŸ“ å¾…åŠäº‹é¡¹ âœ…
- âš™ï¸ è®¾ç½® âœ…
- âŒ é€€å‡º âœ…

**äº¤äº’**ï¼š
- å•å‡»ï¼šæ˜¾ç¤ºå® ç‰© âœ…
- åŒå‡»ï¼šæ‰“å¼€å¾…åŠ âœ…
- å³é”®ï¼šæ˜¾ç¤ºèœå• âœ…

**[v0.2.0] ä¼˜åŒ–**ï¼š
- ä½¿ç”¨ `get_resource_path()` åŠ è½½å›¾æ ‡
- å…¼å®¹æ‰“åŒ…åç¯å¢ƒ

**èµ„æºæ–‡ä»¶**ï¼š`assets/icons/tray_icon.png` âœ…

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 4.2 å¼€æœºè‡ªå¯åŠ¨ â³ [v0.3.0]

**éœ€æ±‚**ï¼šWindows å¼€æœºè‡ªåŠ¨å¯åŠ¨åº”ç”¨

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
import winreg

def set_auto_start(enable=True):
    key_path = r"Software\Microsoft\Windows\CurrentVersion\Run"
    key = winreg.OpenKey(winreg.HKEY_CURRENT_USER, key_path, 0, winreg.KEY_SET_VALUE)
    
    if enable:
        app_path = sys.executable
        winreg.SetValueEx(key, "DesktopPet", 0, winreg.REG_SZ, app_path)
    else:
        winreg.DeleteValue(key, "DesktopPet")
    
    winreg.CloseKey(key)
```

**é…ç½®é¡¹**ï¼š`[System]` â†’ `auto_start`

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

## 5. è®¾ç½®åŠŸèƒ½

### 5.1 å® ç‰©è®¾ç½® âœ… [v0.1.0]

**å®ç°çš„è®¾ç½®**ï¼š

| è®¾ç½®é¡¹ | UIç»„ä»¶ | é…ç½®é”® | çŠ¶æ€ |
|--------|--------|--------|------|
| å® ç‰©çš®è‚¤ | QComboBox | `[Pet]` â†’ `skin` | âœ… |
| å® ç‰©å¤§å° | QSlider (64-256) | `[Pet]` â†’ `size` | âœ… |
| ä¸é€æ˜åº¦ | QSlider (50-100%) | `[Window]` â†’ `opacity` | âœ… |
| åŠ¨ç”»é€Ÿåº¦ | QSlider (50-200%) | `[Pet]` â†’ `animation_speed` | âœ… |

**çŠ¶æ€**ï¼šâœ… UIå·²å®ç°ï¼Œâš ï¸ å®æ—¶ç”Ÿæ•ˆå¾…å®Œå–„

---

### 5.2 è¡Œä¸ºè®¾ç½® âœ… [v0.1.0]

**å®ç°çš„è®¾ç½®**ï¼š

| è®¾ç½®é¡¹ | UIç»„ä»¶ | é…ç½®é”® | çŠ¶æ€ |
|--------|--------|--------|------|
| è‡ªåŠ¨ç§»åŠ¨ | QCheckBox | `[Behavior]` â†’ `auto_move` | âœ… |
| éšæœºåŠ¨ä½œ | QCheckBox | `[Behavior]` â†’ `random_action` | âœ… |
| è·Ÿéšé¼ æ ‡ | QCheckBox | `[Behavior]` â†’ `follow_mouse` | â³ |
| å¯ç”¨é‡åŠ› | QCheckBox | `[Behavior]` â†’ `enable_gravity` | â³ |
| è¾¹ç¼˜åå¼¹ | QCheckBox | `[Behavior]` â†’ `edge_bounce` | â³ |
| åŠ¨ä½œé—´éš” | QSlider (5-60ç§’) | `[Behavior]` â†’ `action_interval` | âœ… |
| ç§»åŠ¨é€Ÿåº¦ | QSlider (1-10) | `[Behavior]` â†’ `move_speed` | âœ… |

**çŠ¶æ€**ï¼šâœ… éƒ¨åˆ†å®ç°

---

### 5.3 æé†’è®¾ç½® âœ… [v0.1.0]

**å®ç°çš„è®¾ç½®**ï¼š

| è®¾ç½®é¡¹ | UIç»„ä»¶ | çŠ¶æ€ |
|--------|--------|------|
| å® ç‰©åŠ¨ç”»æé†’ | QCheckBox | âœ… |
| å¼¹çª—æé†’ | QCheckBox | âœ… |
| å£°éŸ³æé†’ | QCheckBox | â³ |
| ç³»ç»Ÿé€šçŸ¥ | QCheckBox | âœ… |
| é»˜è®¤æå‰æ—¶é—´ | QComboBox | âœ… |
| å»¶åæ—¶é—´ | QComboBox | âœ… |
| éŸ³é‡ | QSlider | â³ |

**çŠ¶æ€**ï¼šâœ… éƒ¨åˆ†å®ç°

---

### 5.4 ç³»ç»Ÿè®¾ç½® âœ… [v0.1.0]

**å®ç°çš„è®¾ç½®**ï¼š

| è®¾ç½®é¡¹ | UIç»„ä»¶ | çŠ¶æ€ |
|--------|--------|------|
| å¼€æœºè‡ªå¯åŠ¨ | QCheckBox | â³ |
| æœ€å°åŒ–åˆ°æ‰˜ç›˜ | QCheckBox | âœ… |
| çª—å£å§‹ç»ˆç½®é¡¶ | QCheckBox | âœ… |
| è¯­è¨€é€‰æ‹© | QComboBox | â³ |
| ä¸»é¢˜é€‰æ‹© | QComboBox | â³ |
| è‡ªåŠ¨å¤‡ä»½ | QCheckBox | âœ… |

**çŠ¶æ€**ï¼šâœ… éƒ¨åˆ†å®ç°

---

### 5.5 æ•°æ®ç®¡ç† â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- æ•°æ®å¯¼å…¥/å¯¼å‡º
- æ•°æ®å¤‡ä»½/æ¢å¤
- æ•°æ®æ¸…ç†

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
def export_data(self):
    # å¯¼å‡ºä¸º JSON
    tasks = self.database.get_all_tasks()
    export_tasks_to_json(tasks, "export.json")

def import_data(self):
    # ä» JSON å¯¼å…¥
    tasks = import_tasks_from_json("import.json")
    for task in tasks:
        self.database.add_task(**task)
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

## 6. æ•°æ®ç®¡ç†

### 6.1 æ•°æ®åº“ç»“æ„ âœ… [v0.1.0]

**æ•°æ®åº“**ï¼šSQLite3

**è¡¨ç»“æ„**ï¼š

#### tasks è¡¨ âœ…
```sql
CREATE TABLE tasks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    description TEXT,
    due_date TEXT,
    priority INTEGER DEFAULT 1,
    status TEXT DEFAULT 'pending',
    category TEXT DEFAULT 'general',
    remind_time TEXT,
    repeat_type TEXT,
    created_at TEXT NOT NULL,
    updated_at TEXT NOT NULL
)
```

**å­—æ®µè¯´æ˜**ï¼š
- `id` - ä¸»é”®
- `title` - ä»»åŠ¡æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
- `description` - ä»»åŠ¡æè¿°
- `due_date` - æˆªæ­¢æ—¥æœŸ
- `priority` - ä¼˜å…ˆçº§ï¼ˆ1=ä½, 2=ä¸­, 3=é«˜ï¼‰
- `status` - çŠ¶æ€ï¼ˆpending/completed/expiredï¼‰
- `category` - åˆ†ç±»
- `remind_time` - æé†’æ—¶é—´
- `repeat_type` - é‡å¤ç±»å‹ï¼ˆdaily/weekly/monthlyï¼‰â³
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

**çŠ¶æ€**ï¼šâœ… å·²å®ç°

---

#### config è¡¨ âœ…
```sql
CREATE TABLE config (
    key TEXT PRIMARY KEY,
    value TEXT
)
```

**ç”¨é€”**ï¼šå­˜å‚¨åº”ç”¨çº§é…ç½®ï¼ˆå½“å‰æœªä½¿ç”¨ï¼Œé¢„ç•™ï¼‰

**çŠ¶æ€**ï¼šâœ… è¡¨å·²åˆ›å»ºï¼Œâ³ åŠŸèƒ½å¾…ä½¿ç”¨

---

### 6.2 CRUD æ“ä½œ âœ… [v0.1.0] + å¼‚å¸¸å¤„ç† âœ… [v0.2.0]

**å®ç°çš„æ–¹æ³•**ï¼š

| æ–¹æ³• | åŠŸèƒ½ | ç‰ˆæœ¬ | çŠ¶æ€ |
|------|------|------|------|
| `add_task()` | æ·»åŠ ä»»åŠ¡ | v0.1.0 | âœ… |
| `get_task()` | è·å–å•ä¸ªä»»åŠ¡ | v0.1.0 | âœ… |
| `get_all_tasks()` | è·å–æ‰€æœ‰ä»»åŠ¡ | v0.1.0 | âœ… |
| `get_today_tasks()` | è·å–ä»Šæ—¥ä»»åŠ¡ | v0.1.0 | âœ… |
| `get_pending_reminders()` | è·å–å¾…æé†’ä»»åŠ¡ | v0.1.0 | âœ… |
| `update_task()` | æ›´æ–°ä»»åŠ¡ | v0.1.0 | âœ… |
| `delete_task()` | åˆ é™¤ä»»åŠ¡ | v0.1.0 | âœ… |
| `mark_completed()` | æ ‡è®°å®Œæˆ | v0.1.0 | âœ… |
| `mark_expired()` | æ ‡è®°è¿‡æœŸ | v0.1.0 | âœ… |
| `search_tasks()` | æœç´¢ä»»åŠ¡ | v0.1.0 | âœ… |
| `get_statistics()` | è·å–ç»Ÿè®¡ | v0.1.0 | âœ… |

**[v0.2.0] ä¼˜åŒ–**ï¼š
- æ·»åŠ å¼‚å¸¸å¤„ç†
- è¿”å›å€¼éªŒè¯
- äº‹åŠ¡å›æ»š

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 6.3 æ•°æ®å¤‡ä»½ âœ… [v0.2.0]

**éœ€æ±‚**ï¼š
- è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“
- ä¿ç•™å¤šä¸ªå†å²ç‰ˆæœ¬
- è‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½

**å®ç°ç»†èŠ‚**ï¼š
```python
def auto_backup(self, backup_dir="backups", keep_days=7):
    # 1. ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    backup_file = f"{backup_dir}/tasks_backup_{timestamp}.db"
    
    # 2. å¤åˆ¶æ•°æ®åº“æ–‡ä»¶
    shutil.copy2(self.db_path, backup_file)
    
    # 3. æ¸…ç†æ—§å¤‡ä»½
    self.clean_old_backups(backup_dir, keep_days)
```

**å¤‡ä»½ç­–ç•¥**ï¼š
- è§¦å‘æ—¶æœºï¼šåº”ç”¨å¯åŠ¨æ—¶ âœ…
- ä¿å­˜ä½ç½®ï¼š`backups/` ç›®å½• âœ…
- æ–‡ä»¶å‘½åï¼š`tasks_backup_YYYYMMDD_HHMMSS.db` âœ…
- ä¿ç•™å¤©æ•°ï¼š7å¤© âœ…
- è‡ªåŠ¨æ¸…ç†ï¼šåˆ é™¤7å¤©å‰çš„å¤‡ä»½ âœ…

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 6.4 æ•°æ®å¯¼å…¥å¯¼å‡º â³ [v0.3.0]

**éœ€æ±‚**ï¼šå¯¼å‡º/å¯¼å…¥ JSON æ ¼å¼

**å·¥å…·å‡½æ•°**ï¼š
```python
# src/utils.py å·²æœ‰åŸºç¡€å‡½æ•°
export_tasks_to_json(tasks, file_path)  # âœ…
import_tasks_from_json(file_path)       # âœ…
```

**UIé›†æˆ**ï¼šâ³ å¾…å®ç°

**çŠ¶æ€**ï¼šâš ï¸ å·¥å…·å‡½æ•°å·²å®ç°ï¼ŒUIæœªé›†æˆ

---

## 7. é…ç½®ç®¡ç†

### 7.1 é…ç½®æ–‡ä»¶ âœ… [v0.1.0]

**æ–‡ä»¶**ï¼š`config.ini`

**é…ç½®æ®µ**ï¼š

#### [Pet] - å® ç‰©è®¾ç½®
```ini
skin = default              # çš®è‚¤åç§° âœ…
size = 128                  # å¤§å°ï¼ˆåƒç´ ï¼‰âœ…
animation_speed = 1.0       # åŠ¨ç”»é€Ÿåº¦ âœ…
move_speed = 2              # ç§»åŠ¨é€Ÿåº¦ âœ…
move_frequency = 30         # ç§»åŠ¨é¢‘ç‡ âœ…
```

#### [Window] - çª—å£è®¾ç½®
```ini
always_on_top = true        # å§‹ç»ˆç½®é¡¶ âœ…
start_position_x = 100      # èµ·å§‹Xåæ ‡ âœ…
start_position_y = 100      # èµ·å§‹Yåæ ‡ âœ…
opacity = 1.0               # ä¸é€æ˜åº¦ âœ…
```

#### [Behavior] - è¡Œä¸ºè®¾ç½®
```ini
auto_move = true            # è‡ªåŠ¨ç§»åŠ¨ âœ…
follow_mouse = false        # è·Ÿéšé¼ æ ‡ â³
random_action = true        # éšæœºåŠ¨ä½œ âœ…
action_interval = 10        # åŠ¨ä½œé—´éš”ï¼ˆç§’ï¼‰âœ…
enable_gravity = true       # å¯ç”¨é‡åŠ› â³
edge_bounce = true          # è¾¹ç¼˜åå¼¹ â³
```

#### [Sound] - éŸ³æ•ˆè®¾ç½®
```ini
enable_sound = true         # å¯ç”¨éŸ³æ•ˆ â³
volume = 0.5                # éŸ³é‡ â³
click_sound = true          # ç‚¹å‡»éŸ³æ•ˆ â³
reminder_sound = true       # æé†’éŸ³æ•ˆ â³
```

#### [Reminder] - æé†’è®¾ç½®
```ini
enable_reminder = true      # å¯ç”¨æé†’ âœ…
reminder_method = both      # æé†’æ–¹å¼ âœ…
default_advance_time = 15   # é»˜è®¤æå‰æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰âœ…
snooze_time = 5             # å»¶åæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰âœ…
show_notification = true    # æ˜¾ç¤ºé€šçŸ¥ âœ…
```

#### [System] - ç³»ç»Ÿè®¾ç½®
```ini
auto_start = false          # å¼€æœºè‡ªå¯åŠ¨ â³
minimize_to_tray = true     # æœ€å°åŒ–åˆ°æ‰˜ç›˜ âœ…
language = zh_CN            # è¯­è¨€ â³
theme = light               # ä¸»é¢˜ â³
```

#### [Database] - æ•°æ®åº“è®¾ç½®
```ini
db_path = data/tasks.db     # æ•°æ®åº“è·¯å¾„ âœ…
auto_backup = true          # è‡ªåŠ¨å¤‡ä»½ âœ…
backup_interval = 7         # å¤‡ä»½ä¿ç•™å¤©æ•° âœ…
```

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 7.2 é…ç½®åŠ è½½/ä¿å­˜ âœ… [v0.1.0]

**å®ç°ç»†èŠ‚**ï¼š

**åŠ è½½é…ç½®**ï¼š
```python
# src/utils.py
def load_config(config_path="config.ini"):
    config = configparser.ConfigParser()
    config.read(config_path, encoding='utf-8')
    
    # è½¬æ¢ä¸ºåµŒå¥—å­—å…¸
    config_dict = {}
    for section in config.sections():
        config_dict[section] = {}
        for key, value in config.items(section):
            config_dict[section][key] = parse_value(value)
    
    return config_dict
```

**ä¿å­˜é…ç½®**ï¼š
```python
def save_config(config_dict, config_path="config.ini"):
    config = configparser.ConfigParser()
    for section, options in config_dict.items():
        config[section] = {}
        for key, value in options.items():
            config[section][key] = str(value)
    
    with open(config_path, 'w', encoding='utf-8') as f:
        config.write(f)
```

**ç±»å‹è§£æ**ï¼š
- è‡ªåŠ¨è¯†åˆ« boolã€intã€floatã€str

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 7.3 è®¾ç½®å®æ—¶ç”Ÿæ•ˆ â³ [v0.3.0]

**éœ€æ±‚**ï¼šä¿®æ”¹è®¾ç½®åç«‹å³åº”ç”¨ï¼Œæ— éœ€é‡å¯

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å¾…å®ç°
def apply_settings(self, settings):
    # åº”ç”¨å® ç‰©è®¾ç½®
    if 'pet' in settings:
        self.pet_window.apply_pet_settings(settings['pet'])
    
    # åº”ç”¨è¡Œä¸ºè®¾ç½®
    if 'behavior' in settings:
        self.pet_window.apply_behavior_settings(settings['behavior'])
    
    # ...
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

## 8. å·¥å…·å‡½æ•°

### 8.1 è·¯å¾„ç®¡ç† âœ… [v0.2.0]

**éœ€æ±‚**ï¼šå…¼å®¹å¼€å‘å’Œæ‰“åŒ…ç¯å¢ƒçš„èµ„æºè·¯å¾„

**å®ç°ç»†èŠ‚**ï¼š
```python
def get_resource_path(relative_path):
    """è·å–èµ„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„"""
    if hasattr(sys, '_MEIPASS'):
        # PyInstaller æ‰“åŒ…åçš„ä¸´æ—¶ç›®å½•
        base_path = sys._MEIPASS
    else:
        # å¼€å‘ç¯å¢ƒ
        base_path = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
    
    return os.path.join(base_path, relative_path)
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- åŠ è½½å® ç‰©å›¾ç‰‡ âœ…
- åŠ è½½æ‰˜ç›˜å›¾æ ‡ âœ…
- åŠ è½½éŸ³æ•ˆæ–‡ä»¶ â³

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 8.2 æ—¥æœŸæ—¶é—´å¤„ç† âœ… [v0.1.0]

**å®ç°çš„å‡½æ•°**ï¼š

| å‡½æ•° | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| `format_datetime()` | æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ | âœ… |
| `parse_datetime()` | è§£ææ—¥æœŸå­—ç¬¦ä¸² | âœ… |
| `get_time_remaining()` | è·å–å‰©ä½™æ—¶é—´æè¿° | âœ… |
| `calculate_remind_time()` | è®¡ç®—æé†’æ—¶é—´ | âœ… |

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 8.3 æ•°æ®éªŒè¯ âœ… [v0.1.0]

**å®ç°ç»†èŠ‚**ï¼š
```python
def validate_task_data(task_data):
    # æ£€æŸ¥å¿…å¡«å­—æ®µ
    if not task_data.get('title'):
        return False, "ä»»åŠ¡æ ‡é¢˜ä¸èƒ½ä¸ºç©º"
    
    # æ£€æŸ¥æ ‡é¢˜é•¿åº¦
    if len(task_data['title']) > 200:
        return False, "ä»»åŠ¡æ ‡é¢˜ä¸èƒ½è¶…è¿‡200ä¸ªå­—ç¬¦"
    
    # æ£€æŸ¥ä¼˜å…ˆçº§
    if task_data.get('priority') not in [1, 2, 3]:
        return False, "ä¼˜å…ˆçº§å¿…é¡»æ˜¯1ã€2æˆ–3"
    
    return True, ""
```

**çŠ¶æ€**ï¼šâœ… å·²å®ç°ï¼Œâ³ UIä¸­ä½¿ç”¨å¾…å®Œå–„

---

## 9. æ—¥å¿—ç³»ç»Ÿ âœ… [v0.2.0]

### 9.1 æ—¥å¿—æ¨¡å—

**æ–‡ä»¶**ï¼š`src/logger.py`

**å®ç°åŠŸèƒ½**ï¼š
- å•ä¾‹æ¨¡å¼æ—¥å¿—ç®¡ç†å™¨ âœ…
- æ–‡ä»¶å’Œæ§åˆ¶å°åŒè¾“å‡º âœ…
- æ—¥å¿—è½®è½¬ï¼ˆæœ€å¤§5MBï¼‰âœ…
- 5ä¸ªæ—¥å¿—çº§åˆ« âœ…

**ä½¿ç”¨æ–¹æ³•**ï¼š
```python
from src.logger import get_logger

logger = get_logger("ModuleName")
logger.debug("è°ƒè¯•ä¿¡æ¯")
logger.info("æ™®é€šä¿¡æ¯")
logger.warning("è­¦å‘Šä¿¡æ¯")
logger.error("é”™è¯¯ä¿¡æ¯")
logger.exception("å¼‚å¸¸ä¿¡æ¯")  # åŒ…å«å †æ ˆ
```

**æ—¥å¿—æ ¼å¼**ï¼š
```
[2025-10-11 17:22:00] [DesktopPet.Main] [INFO] åº”ç”¨å¯åŠ¨å®Œæˆ
```

**æ—¥å¿—æ–‡ä»¶**ï¼š
- ä½ç½®ï¼š`logs/desktop_pet_YYYYMMDD.log`
- è½®è½¬ï¼šæ¯ä¸ªæ–‡ä»¶æœ€å¤§5MB
- å¤‡ä»½ï¼šä¿ç•™æœ€è¿‘5ä¸ªæ–‡ä»¶

**é›†æˆä½ç½®**ï¼š
- `main.py` - åº”ç”¨å¯åŠ¨å’Œå…³é”®æ“ä½œ âœ…
- `src/pet_window.py` - å¾…é›†æˆ â³
- `src/todo_window.py` - å¾…é›†æˆ â³
- `src/database.py` - å¾…é›†æˆ â³

**çŠ¶æ€**ï¼šâœ… æ¨¡å—å®Œæˆï¼Œâš ï¸ éƒ¨åˆ†é›†æˆ

---

## 10. å¼‚å¸¸å¤„ç† âœ… [v0.2.0]

### 10.1 ä¸»ç¨‹åºå¼‚å¸¸å¤„ç†

**å®ç°ä½ç½®**ï¼š`main.py`

**å…³é”®æ–¹æ³•**ï¼š

#### åˆå§‹åŒ–å¼‚å¸¸ âœ…
```python
def __init__(self, app):
    try:
        self.init_components()
        self.connect_signals()
    except Exception as e:
        self.logger.exception("åº”ç”¨åˆå§‹åŒ–å¤±è´¥")
        QMessageBox.critical(None, "å¯åŠ¨å¤±è´¥", str(e))
        raise
```

#### ç»„ä»¶åˆå§‹åŒ–å¼‚å¸¸ âœ…
```python
# æ¯ä¸ªç»„ä»¶éƒ½æœ‰ try-except
try:
    self.pet_window = PetWindow(config=self.config)
except Exception as e:
    self.logger.exception("å® ç‰©çª—å£åˆ›å»ºå¤±è´¥")
    raise  # å® ç‰©çª—å£æ˜¯å¿…éœ€çš„

try:
    self.todo_window = TodoWindow(database=self.database)
except Exception as e:
    self.logger.exception("å¾…åŠçª—å£åˆ›å»ºå¤±è´¥")
    self.todo_window = None  # ä¸æ˜¯å¿…éœ€çš„ï¼Œå¯ä»¥ç»§ç»­
```

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 10.2 å¾…åŠçª—å£å¼‚å¸¸å¤„ç†

**å®ç°çš„æ–¹æ³•**ï¼š

| æ–¹æ³• | å¼‚å¸¸å¤„ç† | é”™è¯¯æç¤º | çŠ¶æ€ |
|------|---------|---------|------|
| `add_task()` | âœ… try-except | âœ… QMessageBox | âœ… |
| `edit_task()` | âœ… try-except | âœ… QMessageBox | âœ… |
| `delete_task()` | âœ… try-except | âœ… QMessageBox | âœ… |
| `complete_task()` | âœ… try-except | âœ… QMessageBox | âœ… |
| `search_tasks()` | â³ | â³ | â³ |
| `load_tasks()` | â³ | â³ | â³ |

**é”™è¯¯æç¤ºç¤ºä¾‹**ï¼š
```python
try:
    # æ“ä½œä»£ç 
except Exception as e:
    QMessageBox.critical(self, "é”™è¯¯", f"æ“ä½œå¤±è´¥ï¼š\n{str(e)}")
    self.status_label.setText("âŒ æ“ä½œå¤±è´¥")
```

**çŠ¶æ€**ï¼šâœ… ä¸»è¦æ–¹æ³•å·²å®ç°

---

### 10.3 æ•°æ®åº“å¼‚å¸¸å¤„ç†

**å®ç°çš„æ–¹æ³•**ï¼š

| æ–¹æ³• | å¼‚å¸¸å¤„ç† | å›æ»šæœºåˆ¶ | çŠ¶æ€ |
|------|---------|---------|------|
| `add_task()` | âœ… | âœ… | âœ… |
| `update_task()` | â³ | â³ | â³ |
| `delete_task()` | â³ | â³ | â³ |

**å®ç°ç¤ºä¾‹**ï¼š
```python
def add_task(self, ...):
    try:
        self.cursor.execute(...)
        self.conn.commit()
        return task_id
    except Exception as e:
        print(f"[æ•°æ®åº“] æ·»åŠ ä»»åŠ¡å¤±è´¥: {e}")
        if self.conn:
            self.conn.rollback()
        return -1
```

**çŠ¶æ€**ï¼šâš ï¸ éƒ¨åˆ†å®ç°

---

## 11. é«˜çº§åŠŸèƒ½ï¼ˆè§„åˆ’ä¸­ï¼‰

### 11.1 éŸ³æ•ˆç³»ç»Ÿ â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- ç‚¹å‡»éŸ³æ•ˆ
- æé†’éŸ³æ•ˆ
- å®Œæˆä»»åŠ¡éŸ³æ•ˆ
- èƒŒæ™¯éŸ³ä¹ï¼ˆå¯é€‰ï¼‰

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# åˆ›å»º src/sound_manager.py
class SoundManager:
    def __init__(self):
        self.sounds = {}
        self.load_sounds()
    
    def play(self, sound_name):
        if sound_name in self.sounds:
            self.sounds[sound_name].play()
```

**æŠ€æœ¯æ ˆ**ï¼š
- `PyQt5.QtMultimedia.QSoundEffect` (æ¨è)
- æˆ– `pygame.mixer` (å¤‡é€‰)

**èµ„æºæ–‡ä»¶**ï¼š
- `assets/sounds/click.wav` â³
- `assets/sounds/alert.wav` â³
- `assets/sounds/complete.wav` â³
- `assets/sounds/hover.wav` â³

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.2 æš—è‰²ä¸»é¢˜ â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- æµ…è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢
- è·Ÿéšç³»ç»Ÿä¸»é¢˜

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å®šä¹‰ä¸»é¢˜æ ·å¼
DARK_THEME = """
QWidget { background-color: #2b2b2b; color: #ffffff; }
QPushButton { background-color: #3d3d3d; }
...
"""

LIGHT_THEME = """
QWidget { background-color: #f5f5f5; color: #333333; }
...
"""

def apply_theme(self, theme='light'):
    if theme == 'dark':
        self.setStyleSheet(DARK_THEME)
    else:
        self.setStyleSheet(LIGHT_THEME)
```

**é…ç½®é¡¹**ï¼š`[System]` â†’ `theme` (light/dark/auto)

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.3 æ•°æ®ç»Ÿè®¡ â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- ä»Šæ—¥å®Œæˆä»»åŠ¡æ•°
- æœ¬å‘¨ä»»åŠ¡ç»Ÿè®¡
- ä»»åŠ¡å®Œæˆç‡å›¾è¡¨
- ä¼˜å…ˆçº§åˆ†å¸ƒ
- åˆ†ç±»ç»Ÿè®¡

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# åˆ›å»º src/statistics_window.py
class StatisticsWindow(QWidget):
    def __init__(self, database):
        # æ˜¾ç¤ºç»Ÿè®¡å›¾è¡¨
        # ä½¿ç”¨ matplotlib æˆ– PyQtChart
```

**æŠ€æœ¯æ ˆ**ï¼š
- `matplotlib` (ç»˜å›¾)
- æˆ– `PyQtChart` (QtåŸç”Ÿå›¾è¡¨)

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.4 ä»»åŠ¡æ ‡ç­¾ç³»ç»Ÿ â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- ç»™ä»»åŠ¡æ·»åŠ å¤šä¸ªæ ‡ç­¾
- æŒ‰æ ‡ç­¾ç­›é€‰
- æ ‡ç­¾ç®¡ç†

**æ•°æ®åº“æ‰©å±•**ï¼š
```sql
CREATE TABLE tags (
    id INTEGER PRIMARY KEY,
    name TEXT UNIQUE NOT NULL,
    color TEXT
);

CREATE TABLE task_tags (
    task_id INTEGER,
    tag_id INTEGER,
    FOREIGN KEY (task_id) REFERENCES tasks(id),
    FOREIGN KEY (tag_id) REFERENCES tags(id)
);
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.5 é‡å¤ä»»åŠ¡ â³ [v0.3.0]

**éœ€æ±‚**ï¼š
- æ¯æ—¥é‡å¤ä»»åŠ¡
- æ¯å‘¨é‡å¤ä»»åŠ¡
- æ¯æœˆé‡å¤ä»»åŠ¡
- è‡ªå®šä¹‰é‡å¤è§„åˆ™

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
def handle_repeat_task(self, task):
    if task['repeat_type'] == 'daily':
        new_due_date = parse_datetime(task['due_date']) + timedelta(days=1)
        self.database.add_task(
            title=task['title'],
            due_date=new_due_date,
            repeat_type='daily'
        )
```

**æ•°æ®åº“å­—æ®µ**ï¼š`tasks.repeat_type` âœ… (å·²å­˜åœ¨)

**çŠ¶æ€**ï¼šâš ï¸ å­—æ®µå·²å­˜åœ¨ï¼ŒåŠŸèƒ½æœªå®ç°

---

### 11.6 ç•ªèŒ„é’Ÿ â³ [v0.4.0]

**éœ€æ±‚**ï¼š
- 25åˆ†é’Ÿå·¥ä½œ + 5åˆ†é’Ÿä¼‘æ¯
- ä¸“æ³¨æ¨¡å¼ï¼ˆå® ç‰©å®‰é™ï¼‰
- ç»Ÿè®¡ä¸“æ³¨æ—¶é—´

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# åˆ›å»º src/pomodoro.py
class PomodoroTimer(QObject):
    work_started = pyqtSignal()
    work_finished = pyqtSignal()
    break_started = pyqtSignal()
    break_finished = pyqtSignal()
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.7 å® ç‰©æˆé•¿ç³»ç»Ÿ â³ [v0.4.0]

**éœ€æ±‚**ï¼š
- å®Œæˆä»»åŠ¡è·å¾—ç»éªŒ
- å® ç‰©å‡çº§
- è§£é”æ–°çš®è‚¤å’ŒåŠ¨ä½œ

**æ•°æ®åº“æ‰©å±•**ï¼š
```sql
CREATE TABLE pet_status (
    id INTEGER PRIMARY KEY,
    level INTEGER DEFAULT 1,
    experience INTEGER DEFAULT 0,
    happiness INTEGER DEFAULT 100
);
```

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.8 AI æ™ºèƒ½åŠ©æ‰‹ â³ [v0.4.0]

**éœ€æ±‚**ï¼š
- ä¸å® ç‰©å¯¹è¯
- AI å¸®åŠ©è§„åˆ’ä»»åŠ¡
- æ™ºèƒ½æé†’å»ºè®®

**å®ç°æ–¹æ¡ˆ**ï¼š
```python
# å‚è€ƒ Pet-GPT é¡¹ç›®
import openai

class AIAssistant:
    def chat(self, message):
        response = self.client.chat.completions.create(...)
        return response.choices[0].message.content
```

**ä¾èµ–**ï¼š
- `openai` åº“
- OpenAI API Key

**çŠ¶æ€**ï¼šâ³ è®¡åˆ’ä¸­

---

### 11.9 äº‘ç«¯åŒæ­¥ â³ [v1.0.0]

**éœ€æ±‚**ï¼š
- ä»»åŠ¡äº‘ç«¯å¤‡ä»½
- å¤šè®¾å¤‡åŒæ­¥

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼š
- Firebase / Supabase
- æˆ–è‡ªå»º API æœåŠ¡

**çŠ¶æ€**ï¼šâ³ é•¿æœŸè§„åˆ’

---

## 12. æ‰“åŒ…å‘å¸ƒ

### 12.1 PyInstaller æ‰“åŒ… âœ… [v0.2.0]

**éœ€æ±‚**ï¼šæ‰“åŒ…æˆç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶

**å®ç°æ–¹æ¡ˆ**ï¼š

**è„šæœ¬**ï¼š`pack_with_venv.bat` âœ…

**å…³é”®æ­¥éª¤**ï¼š
1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
2. å®‰è£…ä¾èµ–ï¼ˆPyQt5, Pillow, pyinstallerï¼‰
3. æ‰§è¡Œæ‰“åŒ…å‘½ä»¤
4. å¤åˆ¶èµ„æºæ–‡ä»¶
5. æ¸…ç†ä¸´æ—¶æ–‡ä»¶

**æ‰“åŒ…å‘½ä»¤**ï¼š
```bash
python -m PyInstaller --onefile --windowed --name=DesktopPet main.py
```

**èµ„æºè·¯å¾„å…¼å®¹**ï¼š
- ä½¿ç”¨ `get_resource_path()` å‡½æ•° âœ… [v0.2.0]
- å…¼å®¹å¼€å‘å’Œæ‰“åŒ…ç¯å¢ƒ âœ…

**å·²çŸ¥é—®é¢˜**ï¼š
- ä¸­æ–‡è·¯å¾„æ‰“åŒ…å¤±è´¥ âš ï¸
- **è§£å†³æ–¹æ¡ˆ**ï¼šå¤åˆ¶åˆ°è‹±æ–‡è·¯å¾„æ‰“åŒ… âœ…

**çŠ¶æ€**ï¼šâœ… å®Œå…¨å®ç°

---

### 12.2 å‘å¸ƒåŒ…ç»“æ„ âœ… [v0.2.0]

**ç»“æ„**ï¼š
```
dist/
â”œâ”€â”€ DesktopPet.exe       â† å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ assets/              â† èµ„æºæ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ sounds/
â”‚   â””â”€â”€ icons/
â”œâ”€â”€ config.ini           â† é…ç½®æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ data/                â† æ•°æ®ç›®å½•ï¼ˆå¿…éœ€ï¼‰
â””â”€â”€ ä½¿ç”¨è¯´æ˜.txt          â† è¯´æ˜æ–‡æ¡£
```

**çŠ¶æ€**ï¼šâœ… å·²è§„èŒƒ

---

## 13. æ€§èƒ½æŒ‡æ ‡

### 13.1 ç›®æ ‡æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å½“å‰çŠ¶æ€ | æµ‹è¯•æ–¹æ³• |
|------|--------|---------|---------|
| CPUå ç”¨ç‡ï¼ˆé—²ç½®ï¼‰ | < 2% | â³ å¾…æµ‹è¯• | ä»»åŠ¡ç®¡ç†å™¨ |
| å†…å­˜å ç”¨ | < 100MB | â³ å¾…æµ‹è¯• | ä»»åŠ¡ç®¡ç†å™¨ |
| å¯åŠ¨æ—¶é—´ | < 3ç§’ | â³ å¾…æµ‹è¯• | è®¡æ—¶ |
| ç•Œé¢å“åº” | < 100ms | âœ… æµç•… | ç”¨æˆ·ä½“éªŒ |
| åŠ¨ç”»å¸§ç‡ | 60 FPS | âœ… æµç•… | è§†è§‰è§‚å¯Ÿ |

**çŠ¶æ€**ï¼šâ³ éœ€è¦æ€§èƒ½æµ‹è¯•

---

### 13.2 ä¼˜åŒ–æªæ–½

**å·²å®ç°**ï¼š
- âœ… å»¶è¿ŸåŠ è½½åŠ¨ç”»
- âœ… èµ„æºåŠ è½½å¼‚å¸¸å¤„ç†
- âœ… æ•°æ®åº“è¿æ¥ç®¡ç†

**å¾…å®ç°**ï¼š
- â³ èµ„æºç¼“å­˜ç­–ç•¥
- â³ å¼‚æ­¥åŠ è½½
- â³ å†…å­˜é‡Šæ”¾ä¼˜åŒ–

---

## 14. è·¨å¹³å°æ”¯æŒ

### 14.1 Windows âœ… [v0.1.0]

**æ”¯æŒç‰ˆæœ¬**ï¼š
- Windows 10/11 âœ… å®Œå…¨æ”¯æŒ
- Windows 7/8 â³ æœªæµ‹è¯•

**å¹³å°ç‰¹æ€§**ï¼š
- ç³»ç»Ÿæ‰˜ç›˜ âœ…
- é€æ˜çª—å£ âœ…
- å¼€æœºè‡ªå¯åŠ¨ â³

**çŠ¶æ€**ï¼šâœ… Windows 10/11 å®Œå…¨æ”¯æŒ

---

### 14.2 macOS â³ [v1.0.0]

**å¾…é€‚é…**ï¼š
- èœå•æ é›†æˆï¼ˆmacOSç‰¹è‰²ï¼‰
- çª—å£æ ·å¼è°ƒæ•´
- å¿«æ·é”®é€‚é…ï¼ˆCmdä»£æ›¿Ctrlï¼‰

**çŠ¶æ€**ï¼šâ³ æœªæµ‹è¯•

---

### 14.3 Linux â³ [v1.0.0]

**å¾…é€‚é…**ï¼š
- ç³»ç»Ÿæ‰˜ç›˜å…¼å®¹æ€§
- é€æ˜çª—å£æµ‹è¯•
- è‡ªå¯åŠ¨é…ç½®

**çŠ¶æ€**ï¼šâ³ æœªæµ‹è¯•

---

## 15. èµ„æºæ–‡ä»¶

### 15.1 å¿…éœ€èµ„æº âœ… [v0.1.0]

**å® ç‰©å›¾ç‰‡**ï¼š
- `assets/images/default/idle.png` âœ… (å ä½å›¾)
- `assets/images/default/walk.png` âœ… (å ä½å›¾)
- `assets/images/default/happy.png` âœ… (å ä½å›¾)
- `assets/images/default/alert.png` âœ… (å ä½å›¾)
- `assets/images/default/sleep.png` âœ… (å ä½å›¾)

**å›¾æ ‡**ï¼š
- `assets/icons/tray_icon.png` âœ… (å ä½å›¾)

**çŠ¶æ€**ï¼šâœ… å ä½èµ„æºå·²ç”Ÿæˆï¼Œâ³ å¾…æ›¿æ¢ä¸“ä¸šèµ„æº

---

### 15.2 å¯é€‰èµ„æº â³

**å® ç‰©åŠ¨ç”»**ï¼š
- `sad.gif` - ä¼¤å¿ƒåŠ¨ç”» â³
- `interact.gif` - äº’åŠ¨åŠ¨ç”» â³
- `eat.gif` - è¿›é£ŸåŠ¨ç”» â³

**éŸ³æ•ˆ**ï¼š
- `click.wav` - ç‚¹å‡»éŸ³æ•ˆ â³
- `alert.wav` - æé†’éŸ³æ•ˆ â³
- `complete.wav` - å®ŒæˆéŸ³æ•ˆ â³
- `hover.wav` - æ‚¬åœéŸ³æ•ˆ â³

**å›¾æ ‡**ï¼š
- `app_icon.ico` - åº”ç”¨å›¾æ ‡ â³
- `window_icon.png` - çª—å£å›¾æ ‡ â³

**çŠ¶æ€**ï¼šâ³ å¾…æ·»åŠ 

---

## 16. æŠ€æœ¯å€ºåŠ¡

### 16.1 å¾…å®Œå–„çš„åŠŸèƒ½

| åŠŸèƒ½ | å½“å‰çŠ¶æ€ | ä¼˜å…ˆçº§ | è®¡åˆ’ç‰ˆæœ¬ |
|------|---------|--------|---------|
| ç¼–è¾‘ä»»åŠ¡å¼‚å¸¸å¤„ç† | âš ï¸ åŸºç¡€ | ğŸŸ¡ ä¸­ | v0.3.0 |
| æœç´¢åŠŸèƒ½å¼‚å¸¸å¤„ç† | âŒ æ—  | ğŸŸ¡ ä¸­ | v0.3.0 |
| æ—¥å¿—é›†æˆåˆ°æ‰€æœ‰æ¨¡å— | âš ï¸ éƒ¨åˆ† | ğŸŸ¡ ä¸­ | v0.3.0 |
| è®¾ç½®å®æ—¶ç”Ÿæ•ˆ | âŒ æ—  | ğŸŸ¡ ä¸­ | v0.3.0 |
| æ•°æ®å¯¼å…¥å¯¼å‡ºUI | âŒ æ—  | ğŸŸ¢ ä½ | v0.3.0 |
| é‡å¤ä»»åŠ¡åŠŸèƒ½ | âŒ æ—  | ğŸŸ¢ ä½ | v0.3.0 |

---

### 16.2 å·²çŸ¥é—®é¢˜

| é—®é¢˜ | å½±å“ | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|------|---------|------|
| ä¸­æ–‡è·¯å¾„æ‰“åŒ…å¤±è´¥ | ğŸ”´ é«˜ | å¤åˆ¶åˆ°è‹±æ–‡è·¯å¾„ | âœ… æœ‰æ–¹æ¡ˆ |
| è®¾ç½®ä¸å®æ—¶ç”Ÿæ•ˆ | ğŸŸ¡ ä¸­ | å®ç° apply_settings() | â³ å¾…å¼€å‘ |
| å ä½å›¾ç‰‡ç®€é™‹ | ğŸŸ¢ ä½ | æ›¿æ¢ä¸“ä¸šèµ„æº | â³ å¾…è®¾è®¡ |

---

## 17. ç‰ˆæœ¬è·¯çº¿å›¾

### v0.2.0 Beta âœ… (å½“å‰ç‰ˆæœ¬)

**å·²å®ç°**ï¼š
- âœ… ç¼–è¾‘ä»»åŠ¡åŠŸèƒ½
- âœ… æœç´¢åŠŸèƒ½
- âœ… å¿«æ·é”®æ”¯æŒï¼ˆ5ä¸ªï¼‰
- âœ… å¹³æ»‘åŠ¨ç”»è¿‡æ¸¡
- âœ… è¾¹ç•Œæ£€æµ‹
- âœ… è‡ªåŠ¨æ•°æ®å¤‡ä»½
- âœ… æ—¥å¿—ç³»ç»Ÿ
- âœ… å¼‚å¸¸å¤„ç†
- âœ… èµ„æºè·¯å¾„å…¼å®¹
- âœ… ç¼–ç é—®é¢˜ä¿®å¤

**å®Œæˆåº¦**ï¼š95%

---

### v0.3.0 è®¡åˆ’ â³

**è®¡åˆ’åŠŸèƒ½**ï¼š
- â³ éŸ³æ•ˆç³»ç»Ÿ
- â³ æš—è‰²ä¸»é¢˜
- â³ æ•°æ®ç»Ÿè®¡å›¾è¡¨
- â³ ä»»åŠ¡æ ‡ç­¾ç³»ç»Ÿ
- â³ æ–°æ‰‹å¼•å¯¼
- â³ æ—¥å¿—å…¨é¢é›†æˆ
- â³ æ•°æ®å¯¼å…¥å¯¼å‡ºUI
- â³ å¼€æœºè‡ªå¯åŠ¨

**é¢„è®¡å®Œæˆåº¦**ï¼š98%

---

### v0.4.0 è®¡åˆ’ â³

**è®¡åˆ’åŠŸèƒ½**ï¼š
- â³ ç•ªèŒ„é’ŸåŠŸèƒ½
- â³ å® ç‰©æˆé•¿ç³»ç»Ÿ
- â³ AI å¯¹è¯åŠŸèƒ½
- â³ å¤šå® ç‰©æ”¯æŒ
- â³ é‡å¤ä»»åŠ¡åŠŸèƒ½

**é¢„è®¡å®Œæˆåº¦**ï¼š100% (æ ¸å¿ƒåŠŸèƒ½)

---

### v1.0.0 æ­£å¼ç‰ˆ â³

**ç›®æ ‡**ï¼š
- âœ… æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å®Œå–„
- âœ… æ€§èƒ½å…¨é¢ä¼˜åŒ–
- âœ… è·¨å¹³å°æ”¯æŒ
- âœ… ä¸“ä¸šç¾æœ¯èµ„æº
- âœ… å®Œæ•´å¸®åŠ©æ–‡æ¡£

---

## 18. æ–‡æ¡£ç»´æŠ¤

### 18.1 æ›´æ–°è§„åˆ™

**ä½•æ—¶æ›´æ–°æœ¬æ–‡æ¡£**ï¼š
- âœ… æ–°åŠŸèƒ½å®ç°æ—¶
- âœ… åŠŸèƒ½ä¼˜åŒ–æ—¶
- âœ… Bugä¿®å¤æ—¶
- âœ… é…ç½®é¡¹å˜æ›´æ—¶
- âœ… æ•°æ®åº“ç»“æ„å˜æ›´æ—¶

**æ›´æ–°å†…å®¹**ï¼š
- æ ‡è®°çŠ¶æ€ï¼ˆâœ…/â³/âŒï¼‰
- ç‰ˆæœ¬æ ‡è®° [vX.X.X]
- å®ç°ç»†èŠ‚
- ä»£ç ç¤ºä¾‹
- é…ç½®è¯´æ˜

---

### 18.2 æ›´æ–°å†å²

| æ—¥æœŸ | ç‰ˆæœ¬ | æ›´æ–°å†…å®¹ |
|------|------|---------|
| 2025-10-11 | v0.2.0 | åˆ›å»ºéœ€æ±‚å®ç°æ–‡æ¡£ |
| 2025-10-11 | v0.2.0 | æ ‡è®°æ‰€æœ‰v0.2.0å®ç°çš„åŠŸèƒ½ |
| 2025-10-11 | v0.2.0 | æ·»åŠ ä¼˜åŒ–å’Œæ–°åŠŸèƒ½çš„è¯¦ç»†è¯´æ˜ |

---

## 19. å¿«é€Ÿå‚è€ƒ

### 19.1 å·²å®ç°åŠŸèƒ½æ€»è§ˆ

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- âœ… å® ç‰©çª—å£ï¼ˆé€æ˜ã€æ‹–æ‹½ã€åŠ¨ç”»ï¼‰
- âœ… å¾…åŠç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- âœ… æé†’ç³»ç»Ÿï¼ˆå®šæ—¶æ£€æŸ¥ã€å¼¹çª—ï¼‰
- âœ… ç³»ç»Ÿæ‰˜ç›˜ï¼ˆå›¾æ ‡ã€èœå•ã€é€šçŸ¥ï¼‰
- âœ… è®¾ç½®çª—å£ï¼ˆå¤šæ ‡ç­¾é¡µï¼‰
- âœ… æ•°æ®æŒä¹…åŒ–ï¼ˆSQLiteï¼‰
- âœ… é…ç½®ç®¡ç†ï¼ˆINIæ–‡ä»¶ï¼‰

**v0.2.0 æ–°å¢**ï¼š
- âœ… ç¼–è¾‘ä»»åŠ¡ï¼ˆå®Œæ•´ï¼‰
- âœ… æœç´¢ä»»åŠ¡ï¼ˆå®æ—¶ï¼‰
- âœ… å¿«æ·é”®ï¼ˆ5ä¸ªï¼‰
- âœ… å¹³æ»‘åŠ¨ç”»ï¼ˆ2ç§’è¿‡æ¸¡ï¼‰
- âœ… è¾¹ç•Œä¿æŠ¤
- âœ… è‡ªåŠ¨å¤‡ä»½ï¼ˆ7å¤©ï¼‰
- âœ… æ—¥å¿—ç³»ç»Ÿ
- âœ… å¼‚å¸¸å¤„ç†

**åŠŸèƒ½ç»Ÿè®¡**ï¼š
- å·²å®ç°ï¼š40+ ä¸ª âœ…
- è®¡åˆ’ä¸­ï¼š20+ ä¸ª â³

---

### 19.2 é…ç½®æ–‡ä»¶å¯¹ç…§è¡¨

| é…ç½®æ®µ | é…ç½®é¡¹æ•° | å®ç°ç‡ |
|--------|---------|--------|
| [Pet] | 5 | 100% âœ… |
| [Window] | 4 | 100% âœ… |
| [Behavior] | 6 | 50% âš ï¸ |
| [Sound] | 4 | 0% â³ |
| [Reminder] | 5 | 100% âœ… |
| [System] | 4 | 50% âš ï¸ |
| [Database] | 3 | 100% âœ… |

**æ€»ä½“å®ç°ç‡**ï¼š71%

---

### 19.3 æ–‡ä»¶ç»“æ„å¯¹ç…§è¡¨

| æ–‡ä»¶/ç›®å½• | ç”¨é€” | çŠ¶æ€ |
|----------|------|------|
| `main.py` | åº”ç”¨å…¥å£ | âœ… |
| `config.ini` | é…ç½®æ–‡ä»¶ | âœ… |
| `src/pet_window.py` | å® ç‰©çª—å£ | âœ… |
| `src/todo_window.py` | å¾…åŠçª—å£ | âœ… |
| `src/database.py` | æ•°æ®åº“ | âœ… |
| `src/reminder.py` | æé†’ç³»ç»Ÿ | âœ… |
| `src/settings_window.py` | è®¾ç½®çª—å£ | âœ… |
| `src/tray_icon.py` | ç³»ç»Ÿæ‰˜ç›˜ | âœ… |
| `src/utils.py` | å·¥å…·å‡½æ•° | âœ… |
| `src/logger.py` | æ—¥å¿—ç³»ç»Ÿ | âœ… [v0.2.0] |
| `src/sound_manager.py` | éŸ³æ•ˆç®¡ç† | â³ |
| `src/statistics_window.py` | ç»Ÿè®¡çª—å£ | â³ |
| `src/pomodoro.py` | ç•ªèŒ„é’Ÿ | â³ |
| `assets/images/` | å® ç‰©å›¾ç‰‡ | âš ï¸ å ä½ |
| `assets/sounds/` | éŸ³æ•ˆæ–‡ä»¶ | â³ |
| `assets/icons/` | å›¾æ ‡æ–‡ä»¶ | âš ï¸ å ä½ |
| `data/tasks.db` | æ•°æ®åº“ | âœ… è‡ªåŠ¨ç”Ÿæˆ |
| `backups/` | æ•°æ®å¤‡ä»½ | âœ… [v0.2.0] |
| `logs/` | æ—¥å¿—æ–‡ä»¶ | âœ… [v0.2.0] |

---

## 20. è´¡çŒ®æŒ‡å—

### 20.1 å¦‚ä½•æ›´æ–°æœ¬æ–‡æ¡£

**æ·»åŠ æ–°åŠŸèƒ½æ—¶**ï¼š
1. åœ¨å¯¹åº”ç« èŠ‚æ·»åŠ åŠŸèƒ½æè¿°
2. æ ‡è®°çŠ¶æ€å’Œç‰ˆæœ¬ `âœ… [vX.X.X]`
3. æ·»åŠ å®ç°ç»†èŠ‚å’Œä»£ç ç¤ºä¾‹
4. æ›´æ–°ç»Ÿè®¡æ•°æ®
5. æ›´æ–°ç‰ˆæœ¬å†å²

**ä¿®æ”¹åŠŸèƒ½æ—¶**ï¼š
1. æ›´æ–°å®ç°ç»†èŠ‚
2. æ ‡è®°ä¼˜åŒ–ç‰ˆæœ¬
3. ä¿ç•™å†å²å®ç°è¯´æ˜

**ç¤ºä¾‹**ï¼š
```markdown
### X.X åŠŸèƒ½åç§° âœ… [v0.1.0] + ä¼˜åŒ– âœ… [v0.2.0]

**éœ€æ±‚**ï¼š...

**å®ç°ç»†èŠ‚**ï¼š
[v0.1.0] åŸºç¡€å®ç°ï¼š...
[v0.2.0] ä¼˜åŒ–ï¼š...
```

---

## é™„å½•Aï¼šæ•°æ®åº“å®Œæ•´Schema

```sql
-- ä»»åŠ¡è¡¨
CREATE TABLE IF NOT EXISTS tasks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    description TEXT,
    due_date TEXT,
    priority INTEGER DEFAULT 1,
    status TEXT DEFAULT 'pending',
    category TEXT DEFAULT 'general',
    remind_time TEXT,
    repeat_type TEXT,
    created_at TEXT NOT NULL,
    updated_at TEXT NOT NULL
);

-- é…ç½®è¡¨
CREATE TABLE IF NOT EXISTS config (
    key TEXT PRIMARY KEY,
    value TEXT
);

-- ç´¢å¼•ï¼ˆå¾…æ·»åŠ ï¼‰â³
CREATE INDEX IF NOT EXISTS idx_due_date ON tasks(due_date);
CREATE INDEX IF NOT EXISTS idx_status ON tasks(status);
CREATE INDEX IF NOT EXISTS idx_remind_time ON tasks(remind_time);
```

---

## é™„å½•Bï¼šä¿¡å·è¿æ¥å›¾

```
main.py (DesktopPetApp)
  â”‚
  â”œâ”€â†’ pet_window
  â”‚    â””â”€â†’ todo_window (å¼•ç”¨)
  â”‚    â””â”€â†’ settings_window (å¼•ç”¨)
  â”‚
  â”œâ”€â†’ todo_window
  â”‚    â”œâ”€â”€ task_added â”€â”€â†’ on_task_added()
  â”‚    â”œâ”€â”€ task_updated â”€â”€â†’ (å¾…è¿æ¥)
  â”‚    â””â”€â”€ task_deleted â”€â”€â†’ on_task_deleted()
  â”‚
  â”œâ”€â†’ reminder_system
  â”‚    â”œâ”€â”€ completed â”€â”€â†’ on_task_completed()
  â”‚    â””â”€â”€ snoozed â”€â”€â†’ on_task_snoozed()
  â”‚
  â”œâ”€â†’ tray_icon
  â”‚    â”œâ”€â”€ show_pet_signal â”€â”€â†’ show_pet()
  â”‚    â”œâ”€â”€ hide_pet_signal â”€â”€â†’ hide_pet()
  â”‚    â”œâ”€â”€ show_todo_signal â”€â”€â†’ show_todo()
  â”‚    â”œâ”€â”€ show_settings_signal â”€â”€â†’ show_settings()
  â”‚    â””â”€â”€ quit_signal â”€â”€â†’ quit_app()
  â”‚
  â””â”€â†’ settings_window
       â””â”€â”€ settings_changed â”€â”€â†’ on_settings_changed()
```

---

## é™„å½•Cï¼šå¿«é€ŸæŸ¥æ‰¾ç´¢å¼•

### æŒ‰åŠŸèƒ½æŸ¥æ‰¾
- **ç¼–è¾‘ä»»åŠ¡** â†’ 2.1.2
- **æœç´¢ä»»åŠ¡** â†’ 2.2.2
- **å¿«æ·é”®** â†’ 2.5
- **å¹³æ»‘åŠ¨ç”»** â†’ 1.3.1
- **æ•°æ®å¤‡ä»½** â†’ 6.3
- **æ—¥å¿—ç³»ç»Ÿ** â†’ 9.1
- **å¼‚å¸¸å¤„ç†** â†’ 10

### æŒ‰æ–‡ä»¶æŸ¥æ‰¾
- **main.py** â†’ å„ç« èŠ‚çš„"å®ç°ç»†èŠ‚"
- **pet_window.py** â†’ ç¬¬1ç« 
- **todo_window.py** â†’ ç¬¬2ç« 
- **database.py** â†’ ç¬¬6ç« 
- **logger.py** â†’ ç¬¬9ç« 

### æŒ‰ç‰ˆæœ¬æŸ¥æ‰¾
- **v0.1.0** â†’ æœç´¢ `[v0.1.0]`
- **v0.2.0** â†’ æœç´¢ `[v0.2.0]`
- **v0.3.0** â†’ æœç´¢ `[v0.3.0]`

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-10-11  
**ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ  
**æ›´æ–°é¢‘ç‡**ï¼šæ¯æ¬¡åŠŸèƒ½å¼€å‘åæ›´æ–°

