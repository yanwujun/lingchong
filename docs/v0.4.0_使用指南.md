# 桌面灵宠 v0.4.0 使用指南

🎉 欢迎使用桌面灵宠 v0.4.0 智能成长版！

---

## 📖 目录
1. [快速开始](#快速开始)
2. [番茄钟使用](#番茄钟使用)
3. [宠物成长](#宠物成长)
4. [AI对话](#ai对话)
5. [图片识别](#图片识别)
6. [多宠物管理](#多宠物管理)
7. [常见问题](#常见问题)

---

## 🚀 快速开始

### 安装和运行
```bash
# 克隆项目
git clone https://github.com/yourusername/desktop-pet.git
cd desktop-pet

# 安装依赖
pip install -r requirements.txt

# 运行程序
python main.py
```

### 首次启动
首次启动会显示新手引导，建议完整阅读并创建示例任务。

---

## 🍅 番茄钟使用

### 基本操作

1. **打开番茄钟**
   - 右键宠物 → 🍅 番茄钟

2. **开始工作会话**
   - 点击"🍅 开始工作"
   - 默认25分钟
   - 可在设置中修改时长

3. **控制按钮**
   - ⏸️ 暂停/继续
   - ⏹️ 停止
   - ⏭️ 跳过当前会话

4. **查看统计**
   - 切换到"📊 统计"标签
   - 查看最近7天的番茄钟数据

### 高级功能

#### 自定义时长
1. 切换到"⚙️ 设置"标签
2. 调整工作时长、短休息、长休息
3. 点击"保存设置"

#### 桌面小组件
- 开始番茄钟后自动显示悬浮小组件
- 可拖动到任意位置
- 双击小组件打开主窗口
- 显示进度环和剩余时间

#### 专注模式
- 勾选"启用专注模式"
- 工作时自动最小化其他窗口
- 屏蔽通知干扰

---

## 🐱 宠物成长

### 经验和等级

**获得经验的方式**:
- 完成任务：+5 EXP
- 完成番茄钟：+3 EXP  
- 玩耍互动：+2 EXP

**升级规则**:
- 每100经验升1级
- 升级获得道具奖励
- 升级可能解锁成就

**等级效果**:
- 10级：进化到成长期
- 25级：进化到成熟期
- 50级：进化到完全体

### 宠物属性

**4维属性**:
- 🍖 **饱食度** - 影响宠物活力
- 😊 **心情** - 影响互动效果
- ❤️ **健康** - 影响成长速度
- ⚡ **能量** - 影响活动能力

**属性衰减**:
- 每小时自动衰减5点
- 需要通过道具恢复
- 属性低于20时建议照顾宠物

### 互动操作

#### 喂食 🍖
- 使用食物道具
- 恢复饱食度
- 增加少量心情

#### 玩耍 🎮
- 使用玩具道具
- 增加心情
- 消耗能量
- 获得经验

#### 休息 🛏️
- 使用恢复道具
- 恢复能量
- 恢复健康

### 查看宠物状态
- 右键宠物 → 🐾 宠物 → 背包
- 查看当前属性值
- 查看等级和经验进度

---

## 🏆 成就系统

### 成就类型

#### 等级成就 🌱
- 新手上路（5级）
- 初露锋芒（10级）
- 经验丰富（25级）
- 大师级别（50级）
- 传奇（100级）

#### 任务成就 📝
- 第一步（1个任务）
- 小有成就（10个任务）
- 勤奋工作（50个任务）
- 任务达人（100个任务）
- 工作狂（500个任务）

#### 番茄钟成就 🍅
- 番茄初体验（1个番茄钟）
- 专注新手（10个番茄钟）
- 专注达人（50个番茄钟）
- 专注大师（100个番茄钟）

#### 特殊成就 ✨
- 完美状态（所有属性100）
- 终极进化（达到完全体）
- 美食家（喂食100次）
- 玩乐达人（玩耍100次）

### 查看成就
- 右键宠物 → 🐾 宠物 → 🏆 成就
- 查看成就墙
- 已解锁成就会高亮显示

---

## 🎒 道具系统

### 道具分类

#### 食物类 🍎
- 苹果：+15饱食度
- 面包：+20饱食度
- 肉类：+30饱食度
- 蛋糕：+25饱食度 +10心情

#### 玩具类 ⚽
- 小球：+15心情 -5能量
- 毛线球：+20心情 -8能量
- 木棍：+18心情 -10能量

#### 药品类 💊
- 药品：+30健康
- 维生素：+20健康 +15能量

#### 恢复类 🥤
- 能量饮料：+40能量
- 睡眠枕头：+50能量 +15健康

#### 装备类 📿
- 项圈：永久+5心情（装备时）
- 帽子：永久+8心情（装备时）
- 围巾：永久+10健康（装备时）

### 使用道具

1. **打开背包**
   - 右键宠物 → 🐾 宠物 → 🎒 背包

2. **选择道具**
   - 点击列表中的道具

3. **使用**
   - 点击"✨ 使用"按钮
   - 立即生效

### 获得道具

**奖励途径**:
- 完成任务：获得苹果
- 升级：获得面包 + 药品
- 解锁成就：获得蛋糕 + 维生素
- 完成番茄钟：获得能量饮料

**购买途径**:
- 右键宠物 → 🐾 宠物 → 🛒 商店
- 使用积分购买

---

## 💬 AI对话

### 配置API Key
详见：[API配置指南](API配置指南.md)

### 开始对话

1. **打开对话窗口**
   - 右键宠物 → 💬 AI对话

2. **输入消息**
   - 在底部输入框输入
   - 按Enter或点击"发送"

3. **等待回复**
   - AI正在思考时显示提示
   - 通常3-5秒内回复

### 对话技巧

**日常聊天**:
- "今天过得怎么样？"
- "给我一些工作建议"
- "我感觉有点累"

**任务相关**:
- "帮我分析一下待办任务"
- "我应该先做哪个任务？"
- "如何提高工作效率？"

**宠物互动**:
- "你饿了吗？"
- "我们来玩吧！"
- "今天你开心吗？"

### 性格选择

**默认性格**:
- 平衡的个性
- 适合大多数用户

**活力四射**:
- 充满能量和激情
- 多用感叹号和表情
- 适合需要鼓励的用户

**沉稳智慧**:
- 平和简洁
- 提供深度建议
- 适合需要冷静思考的用户

### 管理对话

- **清除历史**: 点击"🗑️ 清除历史"
- **设置**: 点击 ⚙️ 更改模型或性格
- **关闭窗口**: 点击"❌ 关闭"（不会清除历史）

---

## 📸 图片识别生成待办

### 使用方法

1. **准备图片**
   - 支持格式：JPG、PNG、GIF、BMP、WEBP
   - 建议大小：< 20MB
   - 内容清晰：文字可辨识

2. **拖放到宠物**
   - 将图片文件拖动到桌面宠物上
   - 宠物会播放欢迎动画
   - 释放鼠标完成拖放

3. **等待识别**
   - 显示"正在识别..."提示
   - 通常3-10秒
   - 取决于图片大小和网络速度

4. **确认添加**
   - 查看识别到的任务列表
   - 选择"是"添加到待办
   - 选择"否"取消

### 最佳实践

**适合识别的图片**:
- ✅ 会议白板照片
- ✅ 手写笔记
- ✅ 购物清单
- ✅ 学习计划
- ✅ 项目大纲

**识别效果更好的技巧**:
1. **清晰度** - 确保文字清晰可读
2. **光线** - 光线充足，避免阴影
3. **角度** - 正面拍摄，避免歪斜
4. **裁剪** - 只保留任务相关内容
5. **对比度** - 文字与背景对比明显

### 示例场景

**场景1：会议记录**
1. 用手机拍摄会议白板
2. 传输到电脑
3. 拖放到桌面宠物
4. 自动生成行动项任务

**场景2：学习计划**
1. 拍摄手写学习计划
2. 拖放识别
3. 生成学习任务列表

**场景3：购物清单**
1. 拍摄购物清单纸条
2. 识别生成购物任务
3. 按需完成

---

## 🐾 多宠物管理

### 宠物类型

目前支持5种宠物类型：
- 🐱 小猫（免费，初始宠物）
- 🐶 小狗（200积分）
- 🐰 兔子（250积分）
- 🐧 企鹅（300积分）
- 🐼 熊猫（500积分，稀有）

### 购买新宠物

1. **获取积分**
   - 完成任务：+10积分
   - 完成番茄钟：+5积分

2. **打开商店**
   - 右键宠物 → 🐾 宠物 → 🛒 商店

3. **选择宠物**
   - 切换到"🐾 宠物"标签
   - 点击想要购买的宠物

4. **确认购买**
   - 检查积分是否足够
   - 确认购买
   - 重启应用查看新宠物

### 宠物切换

**注意**: 多宠物切换功能计划在后续版本完善UI界面。
当前版本：
- 数据库已支持多宠物
- 可通过数据库手动切换
- v0.5.0将添加可视化切换界面

---

## 🛒 商店系统

### 查看积分
- 打开商店窗口
- 右上角显示当前积分

### 购买道具

1. **打开商店**
   - 右键宠物 → 🐾 宠物 → 🛒 商店

2. **选择道具**
   - 在"🎁 道具"标签中浏览
   - 点击想要购买的道具

3. **确认购买**
   - 检查积分
   - 确认购买
   - 道具自动添加到背包

---

## 💡 使用技巧

### 高效工作流

**早晨**:
1. 查看待办任务
2. 与AI对话，制定今日计划
3. 使用番茄钟专注完成重要任务

**工作中**:
1. 每25分钟一个番茄钟
2. 完成后获得经验和道具
3. 休息时查看宠物状态

**晚上**:
1. 查看今日统计
2. 照顾宠物（喂食、玩耍）
3. 查看新解锁的成就

### 保持宠物健康

**定期照顾**:
- 每天至少喂食1次
- 每天玩耍1-2次
- 属性低时及时使用道具

**避免属性过低**:
- 饱食度<20：宠物会难过
- 心情<20：工作效率下降  
- 能量<20：无法玩耍
- 健康<20：经验获取减半

### 快速升级

**最佳策略**:
1. 每天完成5-10个任务（25-50 EXP）
2. 使用番茄钟工作（3 EXP/个）
3. 保持连续签到
4. 完成成就获得奖励

**升级时间表**:
- 5级：约3-5天
- 10级（第一次进化）：约1-2周
- 25级（第二次进化）：约1个月
- 50级（完全体）：约2-3个月

---

## 🎮 快捷键

### 全局快捷键
- 右键宠物：打开菜单
- 双击宠物：播放特殊动画
- 拖动宠物：移动位置

### 待办窗口
- `Ctrl + N`：新建任务
- `Ctrl + F`：搜索任务
- `Ctrl + W`：关闭窗口
- `Delete`：删除选中任务
- `Enter`：编辑选中任务

### 番茄钟
- 双击小组件：打开主窗口

---

## ❓ 常见问题

### Q1: AI功能不可用？
**A**: 需要配置OpenAI API Key。详见 [API配置指南](API配置指南.md)

### Q2: 宠物属性一直在降？
**A**: 属性每小时自动衰减5点，这是正常现象。定期使用道具恢复。

### Q3: 如何快速获得积分？
**A**: 完成任务+10积分，完成番茄钟+5积分。建议结合使用。

### Q4: 图片识别识别不准确？
**A**: 
- 使用清晰的图片
- 确保文字可读
- 光线充足
- 避免复杂背景

### Q5: 番茄钟能关联任务吗？
**A**: 可以！开始番茄钟时选择要专注的任务（功能在主窗口中）。

### Q6: 宠物会死亡吗？
**A**: 不会！属性降到0也不会有惩罚，只是建议及时恢复。

### Q7: 可以备份数据吗？
**A**: 数据库文件在 `data/tasks.db`，定期自动备份到 `backups/` 目录。

### Q8: 如何更换宠物皮肤？
**A**: 当前版本进化会改变外观（需美术资源）。v0.5.0将添加更多皮肤。

---

## 📊 数据说明

### 数据存储位置
- **任务数据**: `data/tasks.db`
- **配置文件**: `config.ini` 和 `config/api_keys.json`
- **备份文件**: `backups/tasks_backup_*.db`
- **日志文件**: `logs/app.log`

### 数据安全
- 自动备份：每次启动
- 保留天数：7天
- 手动备份：复制 `data/tasks.db`

---

## 🎨 个性化设置

### 主题
- 设置 → 系统设置 → 主题
- 选择"浅色"或"深色"

### 音效
- 设置 → 提醒设置 → 音量
- 调节音量或关闭音效

### 宠物外观
- 设置 → 宠物设置
- 调整大小、透明度（需重启生效）

---

## 🔜 即将到来（v0.5.0）

- 📅 日历视图
- 🌐 多语言支持
- 🎮 更多宠物皮肤和动画
- 🔔 系统通知集成
- 📱 任务导出/导入
- 🏅 每日签到奖励

---

## 💬 反馈和支持

遇到问题？有好的建议？

- **提交Issue**: [GitHub Issues](https://github.com/yourusername/desktop-pet/issues)
- **查看文档**: `docs/` 目录
- **查看日志**: `logs/app.log`

---

**祝您使用愉快！** 🎉

让桌面灵宠陪伴您的每一天，提升工作效率，享受成长乐趣！

---

*最后更新: 2025-10-11*  
*版本: v1.0*  
*适用于: 桌面灵宠 v0.4.0*

