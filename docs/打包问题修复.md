# æ‰“åŒ…é—®é¢˜ä¿®å¤æŒ‡å—

## âŒ é”™è¯¯ï¼šenum34 ä¸å…¼å®¹

### é”™è¯¯ä¿¡æ¯
```
ERROR: The 'enum34' package is an obsolete backport 
and is incompatible with PyInstaller.
```

### ğŸ”§ è§£å†³æ–¹æ³•

#### æ–¹æ³•1ï¼šä»¥ç®¡ç†å‘˜èº«ä»½å¸è½½ï¼ˆæ¨èï¼‰

**æ­¥éª¤ï¼š**

1. **ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤æç¤ºç¬¦**
   - æŒ‰ `Win + X`
   - é€‰æ‹©"å‘½ä»¤æç¤ºç¬¦(ç®¡ç†å‘˜)"æˆ–"Windows PowerShell(ç®¡ç†å‘˜)"

2. **æ‰§è¡Œå¸è½½å‘½ä»¤**
   ```bash
   pip uninstall enum34 -y
   ```

3. **é‡æ–°æ‰“åŒ…**
   ```bash
   cd ä½ çš„é¡¹ç›®ç›®å½•
   python build.py
   ```

#### æ–¹æ³•2ï¼šæ‰‹åŠ¨åˆ é™¤ï¼ˆå¦‚æœæ–¹æ³•1å¤±è´¥ï¼‰

1. **æ‰¾åˆ° enum34 çš„å®‰è£…ä½ç½®**
   ```
   C:\Program Files\Python\Python311\Lib\site-packages\
   ```

2. **æ‰‹åŠ¨åˆ é™¤ä»¥ä¸‹æ–‡ä»¶å¤¹**ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
   - `enum34-1.1.10.dist-info\`
   - `enum\` (å¦‚æœå­˜åœ¨)

3. **é‡æ–°æ‰“åŒ…**

#### æ–¹æ³•3ï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼ˆæœ€å®‰å…¨ï¼‰

**åˆ›å»ºå¹²å‡€çš„è™šæ‹Ÿç¯å¢ƒæ¥æ‰“åŒ…ï¼š**

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv pack_env

# 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
pack_env\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install PyQt5 Pillow pyinstaller

# 4. æ‰“åŒ…
python -m PyInstaller --onefile --windowed --name=DesktopPet main.py

# 5. å¤åˆ¶èµ„æº
xcopy /E /I assets dist\assets
copy config.ini dist\
mkdir dist\data

# 6. é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
deactivate
```

---

## âŒ é”™è¯¯ï¼šæ‰¾ä¸åˆ° pyinstaller å‘½ä»¤

### è§£å†³æ–¹æ³•

ä½¿ç”¨ `python -m PyInstaller` ä»£æ›¿ `pyinstaller`ï¼š

```bash
python -m PyInstaller --onefile --windowed --name=DesktopPet main.py
```

---

## âŒ é”™è¯¯ï¼šæ‰“åŒ…åæ— æ³•è¿è¡Œ

### æ£€æŸ¥æ¸…å•

1. **ç¡®ä¿èµ„æºæ–‡ä»¶å­˜åœ¨**
   ```
   dist/
   â”œâ”€â”€ DesktopPet.exe
   â”œâ”€â”€ assets/       â† å¿…é¡»å­˜åœ¨
   â”œâ”€â”€ config.ini    â† å¿…é¡»å­˜åœ¨
   â””â”€â”€ data/         â† å¿…é¡»å­˜åœ¨
   ```

2. **æµ‹è¯•è¿è¡Œ**
   ```bash
   cd dist
   DesktopPet.exe
   ```

3. **å¦‚æœå‡ºé”™ï¼Œä¸ä½¿ç”¨ --windowed æŸ¥çœ‹é”™è¯¯**
   ```bash
   python -m PyInstaller --onefile --name=DesktopPet main.py
   ```

---

## ğŸ¯ å¿«é€Ÿæ‰“åŒ…å‘½ä»¤

### æœ€ç®€å•çš„æ‰“åŒ…ï¼ˆæ¨èï¼‰

è¿è¡Œæ‰¹å¤„ç†æ–‡ä»¶ï¼š
```bash
ç®€æ˜“æ‰“åŒ….bat
```

### æ‰‹åŠ¨æ‰“åŒ…

```bash
# 1. æ‰“åŒ…
python -m PyInstaller --onefile --windowed --name=DesktopPet main.py

# 2. å¤åˆ¶èµ„æº
xcopy /E /I assets dist\assets
copy config.ini dist\
mkdir dist\data

# 3. æ¸…ç†
rmdir /s /q build
del DesktopPet.spec

# 4. æµ‹è¯•
cd dist
DesktopPet.exe
```

---

## ğŸ“‹ å®Œæ•´çš„æ‰“åŒ…æµç¨‹

### ç¬¬ä¸€æ¬¡æ‰“åŒ…

```bash
# 1. æ£€æŸ¥ä¾èµ–
pip list | findstr PyInstaller

# 2. å¦‚æœæ²¡æœ‰å®‰è£…
pip install pyinstaller

# 3. è§£å†³ enum34 é—®é¢˜ï¼ˆå¦‚æœæœ‰ï¼‰
ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ:
pip uninstall enum34 -y

# 4. æ‰“åŒ…
python -m PyInstaller --onefile --windowed --name=DesktopPet main.py

# 5. å¤åˆ¶èµ„æº
xcopy /E /I assets dist\assets
copy config.ini dist\
mkdir dist\data

# 6. æµ‹è¯•
cd dist
DesktopPet.exe
```

### åç»­æ‰“åŒ…ï¼ˆå·²è§£å†³ enum34ï¼‰

```bash
# ç›´æ¥è¿è¡Œ
ç®€æ˜“æ‰“åŒ….bat

# æˆ–
python build.py
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q: æ‰“åŒ…æ–‡ä»¶å¤ªå¤§ï¼Ÿ

**A:** æ­£å¸¸æƒ…å†µï¼ŒåŒ…å«äº† Python è¿è¡Œæ—¶ã€‚å¤§å°çº¦ 20-50MBã€‚

**å‡å°æ–¹æ³•ï¼š**
- ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒæ‰“åŒ…ï¼ˆæœ€æœ‰æ•ˆï¼‰
- æ’é™¤ä¸éœ€è¦çš„åº“

### Q: æ‰“åŒ…é€Ÿåº¦å¾ˆæ…¢ï¼Ÿ

**A:** ç¬¬ä¸€æ¬¡æ‰“åŒ…ä¼šæ¯”è¾ƒæ…¢ï¼ˆ5-10åˆ†é’Ÿï¼‰ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚

### Q: æ‰“åŒ…åè¿è¡ŒæŠ¥é”™æ‰¾ä¸åˆ°æ¨¡å—ï¼Ÿ

**A:** åœ¨æ‰“åŒ…å‘½ä»¤ä¸­æ·»åŠ éšè—å¯¼å…¥ï¼š
```bash
python -m PyInstaller --onefile --windowed --hidden-import=PyQt5.QtCore --name=DesktopPet main.py
```

### Q: å¦‚ä½•æŸ¥çœ‹æ‰“åŒ…è¯¦ç»†è¿‡ç¨‹ï¼Ÿ

**A:** æ·»åŠ  `--log-level DEBUG`ï¼š
```bash
python -m PyInstaller --onefile --log-level DEBUG --name=DesktopPet main.py
```

---

## âœ… éªŒè¯æ‰“åŒ…æˆåŠŸ

### æ£€æŸ¥æ¸…å•

1. [ ] `dist/DesktopPet.exe` å­˜åœ¨
2. [ ] `dist/assets/` æ–‡ä»¶å¤¹å­˜åœ¨
3. [ ] `dist/config.ini` å­˜åœ¨
4. [ ] `dist/data/` æ–‡ä»¶å¤¹å­˜åœ¨
5. [ ] è¿è¡Œ `DesktopPet.exe` èƒ½çœ‹åˆ°å® ç‰©çª—å£
6. [ ] å³é”®èœå•èƒ½æ­£å¸¸æ‰“å¼€
7. [ ] ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡æ˜¾ç¤º

---

## ğŸ æ‰“åŒ…æˆåŠŸå

### å‘å¸ƒå‡†å¤‡

1. **æµ‹è¯•æ‰€æœ‰åŠŸèƒ½**
   - å® ç‰©æ˜¾ç¤º
   - æ‹–åŠ¨
   - å³é”®èœå•
   - å¾…åŠåŠŸèƒ½
   - æé†’åŠŸèƒ½

2. **æ‰“åŒ…å‘å¸ƒ**
   ```bash
   # å‹ç¼© dist æ–‡ä»¶å¤¹
   é‡å‘½åä¸º: æ¡Œé¢çµå® _v1.0
   å‹ç¼©æˆ: æ¡Œé¢çµå® _v1.0.zip
   ```

3. **åˆ†äº«ç»™ç”¨æˆ·**

---

## ğŸ“ è¿˜æ˜¯å¤±è´¥ï¼Ÿ

### å°è¯•æœ€ç®€å•çš„æ–¹æ³•

1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
2. **åªå®‰è£…å¿…éœ€çš„åŒ…**
3. **åœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ‰“åŒ…**

è¯¦ç»†æ­¥éª¤è§"æ–¹æ³•3ï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"éƒ¨åˆ†ã€‚

---

**ç¥æ‰“åŒ…é¡ºåˆ©ï¼** ğŸ‰

