# 桌面灵宠 - 项目结构说明

**版本**：v0.2.0 Beta  
**更新时间**：2025-10-11

---

## 📁 项目目录结构

```
桌面灵宠/
│
├── 📄 核心文件（应用运行必需）
│   ├── main.py                      # 应用入口（276行）
│   ├── config.ini                   # 配置文件
│   ├── requirements.txt             # 依赖列表
│   ├── .gitignore                   # Git忽略规则
│   └── LICENSE                      # MIT开源协议
│
├── 📖 快速开始（根目录文档）
│   ├── README.md                    # 项目说明（主入口）
│   └── START_HERE.md                # 快速开始指南
│
├── 💻 源代码 (src/)
│   ├── __init__.py                  # 模块初始化 [v0.2.0]
│   ├── pet_window.py                # 宠物窗口（320行）
│   ├── todo_window.py               # 待办窗口（520行）
│   ├── database.py                  # 数据库（390行）
│   ├── reminder.py                  # 提醒系统（350行）
│   ├── settings_window.py           # 设置窗口（500行）
│   ├── tray_icon.py                 # 系统托盘（160行）
│   ├── utils.py                     # 工具函数（380行）✨ [v0.2.0]
│   └── logger.py                    # 日志系统（180行）✨ [v0.2.0]
│
├── 🎨 资源文件 (assets/)
│   ├── README.md                    # 资源说明
│   ├── images/default/              # 宠物图片（5张）
│   ├── sounds/                      # 音效（待添加）
│   └── icons/                       # 图标（1个）
│
├── 💾 数据目录 (data/)
│   └── tasks.db                     # SQLite数据库（自动生成）
│
├── 📋 日志目录 (logs/) ✨ [v0.2.0]
│   └── desktop_pet_YYYYMMDD.log     # 日志文件（自动生成）
│
├── 💼 备份目录 (backups/) ✨ [v0.2.0]
│   └── tasks_backup_*.db            # 数据库备份（自动生成）
│
├── 📚 文档中心 (docs/) ✨ 新建
│   ├── README.md                    # 文档索引（20个文档）
│   │
│   ├── 📌 核心文档（必读）
│   │   ├── 需求实现文档.md          # 活文档，所有实现细节
│   │   ├── 开发需求文档.md          # 完整需求分析
│   │   ├── 使用指南_v0.2.md        # v0.2.0 使用手册
│   │   └── CHANGELOG.md            # 版本更新日志
│   │
│   ├── 📖 用户手册
│   │   ├── MVP使用说明.md
│   │   └── README_优化版.txt
│   │
│   ├── 💻 开发指南
│   │   ├── 快速开始指南.md
│   │   └── 优化建议清单.md
│   │
│   ├── 📦 打包指南
│   │   ├── 打包说明.md
│   │   ├── 打包问题修复.md
│   │   ├── 中文路径打包问题.txt
│   │   └── 如何打包.txt
│   │
│   ├── 🎨 设计文档
│   │   └── 设计需求清单.md
│   │
│   └── 📊 项目报告
│       ├── 项目最终总结.md
│       ├── 全部优化完成.md
│       ├── 优化完成报告.md
│       ├── MVP完成总结.md
│       ├── 交付报告.md
│       ├── 项目说明.md
│       └── 项目结构.txt
│
├── 🧪 测试文件 (tests/)
│   └── （测试用例待添加）
│
└── 🔧 辅助脚本
    ├── generate_placeholder_images.py   # 生成占位图片
    ├── test_run.py                     # 快速测试
    ├── build.py                        # Python打包脚本
    ├── build.bat                       # 批处理打包
    ├── pack_with_venv.bat              # 虚拟环境打包 ✨
    └── 简易打包.bat                    # 简易打包
```

---

## 📊 目录统计

| 目录 | 文件数 | 用途 | 状态 |
|------|--------|------|------|
| `/` (根目录) | 5 | 核心配置和入口 | ✅ |
| `src/` | 9 | 源代码模块 | ✅ |
| `assets/` | 7 | 资源文件 | ⚠️ 占位 |
| `data/` | 1 | 数据存储 | ✅ 自动生成 |
| `logs/` | 动态 | 日志文件 | ✅ 自动生成 |
| `backups/` | 动态 | 数据备份 | ✅ 自动生成 |
| `docs/` | 20 | 所有文档 | ✅ |
| `tests/` | 0 | 测试用例 | ⏳ 待添加 |

**总文件数**：40+ 个

---

## 🎯 按用途分类

### 应用运行文件（必需）
```
main.py                  # 入口程序
config.ini               # 配置
src/                     # 源代码
assets/                  # 资源
```

### 文档文件（参考）
```
README.md                # 主说明
START_HERE.md            # 快速开始
docs/                    # 所有详细文档
```

### 开发工具（辅助）
```
generate_placeholder_images.py  # 图片生成
test_run.py                    # 测试运行
pack_with_venv.bat             # 打包脚本
```

### 自动生成（运行时创建）
```
data/tasks.db            # 数据库
logs/                    # 日志
backups/                 # 备份
```

---

## 📚 文档组织说明

### ✨ 新的文档结构

**之前**：所有文档在根目录（混乱）
```
桌面灵宠/
├── 20个.md文件
├── 5个.txt文件
└── ...代码文件
```

**现在**：文档集中到docs目录（清晰）
```
桌面灵宠/
├── README.md            # 保留在根目录
├── START_HERE.md        # 保留在根目录
├── docs/                # 所有详细文档
│   ├── README.md        # 文档索引
│   ├── 需求实现文档.md   # ⭐ 活文档
│   └── ...（其他20个文档）
└── src/                 # 源代码
```

**优势**：
- ✅ 根目录更整洁
- ✅ 文档分类清晰
- ✅ 易于管理和查找
- ✅ 符合开源项目规范

---

## 📌 重点文件说明

### 根目录保留文件

#### 1. README.md
- **用途**：项目主说明文档
- **内容**：功能特性、快速开始、技术栈
- **状态**：✅ 已更新，指向docs目录

#### 2. START_HERE.md
- **用途**：3步快速开始
- **内容**：安装、生成图片、启动
- **状态**：✅ 已更新，指向docs目录

#### 3. LICENSE
- **用途**：开源协议
- **内容**：MIT License
- **状态**：✅ 不变

---

### docs 目录核心文档

#### 1. 需求实现文档.md ⭐ 活文档
- **地位**：**最重要的文档**
- **用途**：记录所有功能的实现状态和细节
- **更新**：每次功能开发后更新
- **特点**：
  - 状态标记（✅/⏳/❌）
  - 版本标记（[v0.1.0]/[v0.2.0]）
  - 实现代码示例
  - 配置项说明
  - 数据库结构
  
#### 2. CHANGELOG.md
- **用途**：版本更新日志
- **更新**：每次发布新版本时更新

#### 3. 其他18个文档
- 详见 [docs/README.md](docs/README.md)

---

## 🔄 目录维护规则

### 根目录
- ✅ 只保留核心文件
- ✅ README.md（项目说明）
- ✅ START_HERE.md（快速开始）
- ✅ LICENSE（协议）
- ✅ 配置和入口文件

### docs 目录
- ✅ 所有需求文档
- ✅ 所有使用手册
- ✅ 所有开发指南
- ✅ 所有打包文档
- ✅ 所有项目报告

### src 目录
- ✅ 只包含 Python 源代码
- ✅ 每个文件都有文档字符串
- ✅ 模块化组织

### assets 目录
- ✅ 只包含资源文件
- ✅ 图片、音效、图标
- ✅ 有 README.md 说明

---

## 🎯 查找文档的方法

### 方法1：使用文档中心
```
打开 docs/README.md
按角色或需求查找
```

### 方法2：使用搜索
```
在 docs 目录中搜索关键词
例如：搜索"编辑任务"
```

### 方法3：使用索引
```
docs/README.md 底部有快速索引
直接跳转到对应章节
```

---

## 💡 最佳实践

### 开始使用项目
```
1. 读 README.md（了解项目）
2. 读 START_HERE.md（快速开始）
3. 读 docs/使用指南_v0.2.md（详细使用）
```

### 开始开发
```
1. 读 docs/需求实现文档.md（了解实现状态）
2. 读 docs/开发需求文档.md（了解完整需求）
3. 读 docs/快速开始指南.md（学习开发）
```

### 打包发布
```
1. 读 docs/打包说明.md
2. 遇到问题看 docs/打包问题修复.md
```

---

## ✅ 文件清单

### 根目录文件（8个）
- [x] README.md
- [x] START_HERE.md
- [x] LICENSE
- [x] main.py
- [x] config.ini
- [x] requirements.txt
- [x] .gitignore
- [x] 项目结构说明.md（本文件）

### 源代码文件（9个）
- [x] src/__init__.py
- [x] src/pet_window.py
- [x] src/todo_window.py
- [x] src/database.py
- [x] src/reminder.py
- [x] src/settings_window.py
- [x] src/tray_icon.py
- [x] src/utils.py
- [x] src/logger.py

### 文档文件（20个）
- 所有文档在 `docs/` 目录
- 详见 [docs/README.md](docs/README.md)

### 脚本文件（6个）
- [x] generate_placeholder_images.py
- [x] test_run.py
- [x] build.py
- [x] build.bat
- [x] pack_with_venv.bat
- [x] 简易打包.bat

### 资源文件（7个）
- [x] assets/README.md
- [x] assets/images/default/*.png (5张)
- [x] assets/icons/tray_icon.png

---

## 🔍 快速查找

### 我想...

**...运行应用**
→ `python main.py`

**...查看文档**
→ `docs/README.md`

**...了解实现细节**
→ `docs/需求实现文档.md` ⭐

**...学习开发**
→ `docs/开发需求文档.md`
→ `docs/快速开始指南.md`

**...打包发布**
→ `docs/打包说明.md`
→ `pack_with_venv.bat`

**...美化界面**
→ `docs/设计需求清单.md`

**...继续优化**
→ `docs/优化建议清单.md`

**...查看日志**
→ `logs/desktop_pet_*.log`

**...恢复备份**
→ `backups/tasks_backup_*.db`

---

## 📝 版本信息

### 当前版本：v0.2.0 Beta

**核心文件版本**：
- main.py → v0.2.0
- src/__init__.py → v0.2.0
- docs/需求实现文档.md → v1.0（文档版本）

**文档状态**：
- 总文档数：20个（docs目录）
- 总页数：220+页
- 总字数：70000+字
- 更新状态：✅ 最新

---

## 🎯 目录用途说明

| 目录 | 用途 | 何时访问 |
|------|------|---------|
| `/` | 运行应用 | 每次启动 |
| `src/` | 查看/修改代码 | 开发时 |
| `assets/` | 查看/替换资源 | 美化时 |
| `data/` | 数据存储 | 自动管理 |
| `logs/` | 查看日志 | 排查问题时 |
| `backups/` | 恢复数据 | 数据丢失时 |
| `docs/` | 阅读文档 | 任何时候 |
| `tests/` | 运行测试 | 测试时 |

---

## 🌟 目录特色

### 1. 清晰的分离 ⭐⭐⭐⭐⭐
- ✅ 代码与文档分离
- ✅ 资源与代码分离
- ✅ 数据与代码分离

### 2. 规范的组织 ⭐⭐⭐⭐⭐
- ✅ 符合开源项目规范
- ✅ 易于理解和导航
- ✅ 便于维护和扩展

### 3. 完整的文档 ⭐⭐⭐⭐⭐
- ✅ 220+页详细文档
- ✅ 20个文档文件
- ✅ 分类清晰完整

---

## 📞 相关链接

- 📌 **文档中心**：[docs/README.md](docs/README.md)
- 📌 **活文档**：[docs/需求实现文档.md](docs/需求实现文档.md)
- 📦 **打包指南**：[docs/打包说明.md](docs/打包说明.md)
- 🎨 **设计规范**：[docs/设计需求清单.md](docs/设计需求清单.md)

---

**提示**：如需查找具体功能的实现细节，请查看 [docs/需求实现文档.md](docs/需求实现文档.md)

